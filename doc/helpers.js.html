<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: helpers.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: helpers.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// JSHint options:
/* global $, Handlebars, App */
'use strict';

/* Helpers for Handlebars templating */

/**
* @namespace App.helpers
*/
App.helpers = {};

/**
 * Sets up the handlebars templates for select box options which display counties
 * and indicators.
 * Found At: {@link http://htmlr.tumblr.com/post/33202449716/}
 * @example
 * &lt;!-- Usage -->
 * &lt;select>
 *   &lt;option>Please select&lt;/option>
 *   {{renderCountryOpts "Australia"}}
 * &lt;/select>
 * @method helperSetup
 * @memberof App.helpers
 * @return {Void}
 */
App.helpers.helperSetup = function() {
  Handlebars.registerHelper('dropDownTags', function(selected) {
    var ret;
    var tags = Object.keys(App.dropDownTags);

    tags.sort();

    $.each(tags, function() {
      var selectedVal = '';
      if(this === selected) {
        selectedVal = 'selected';
      }
      ret+='&lt;option '+selectedVal+' value="'+this+'">'+this+'&lt;/option>';
    });

    return new Handlebars.SafeString(ret);
  });

  Handlebars.registerHelper('dropDownTagsIndicators', function(current, selected) {
    var ret;
    var tag = $('.dropDownTags option:selected').text() || Object.keys(App.dropDownTags)[0];

    var indicators = [];
    for (var ind in App.dropDownTags[tag]) {
      indicators.push([ind, App.dropDownTags[tag][ind]]);
    }
    indicators.sort(function(a, b) {
      return a[1] &lt; b[1] ? -1 : a[1] > b[1] ? 1 : 0;
    });

    $.each(indicators, function() {
      var selectedVal = '';
      if(this === selected) {
        selectedVal = 'selected';
      }

      ret+='&lt;option '+selectedVal+' value="'+this[0]+'">'+this[1]+'&lt;/option>';
    });

    return new Handlebars.SafeString(ret);
  });

  Handlebars.registerHelper('dropDownIndicators', function() {
    return new Handlebars.SafeString(Handlebars.helpers.dropDownTagsIndicators('All'));
  });

  Handlebars.registerHelper('dropDownCounty', function(selected) {
    var county = [];
    county.push('All Counties');

    for (var key in App.maps.regionDictionary) {
      county.push(key);
    }

    var ret = '';
    $.each(county, function() {
      var selectedVal = '';
      if (this === selected) {
        selectedVal = 'selected';
      }
      ret+='&lt;option '+selectedVal+' value="'+this+'">'+this+'&lt;/option>';
    });

    return new Handlebars.SafeString(ret);
  });
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="App.html">App</a></li><li><a href="App.charts.html">charts</a></li><li><a href="App.data.html">data</a></li><li><a href="App.download.html">download</a></li><li><a href="App.helpers.html">helpers</a></li><li><a href="App.maps.html">maps</a></li><li><a href="App.misc.html">misc</a></li><li><a href="App.testing.html">testing</a></li><li><a href="App.watchers.html">watchers</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta3</a> on Fri Nov 06 2015 17:40:52 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
