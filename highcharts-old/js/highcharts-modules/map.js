/*
 Highmaps JS v1.0.4 (2014-09-02)
 Highmaps as a plugin for Highcharts 4.0.1 or Highstock 2.0.1

 (c) 2011-2014 Torstein Honsi

 License: www.highcharts.com/license
*/
(function(e){function L(e,t,n,r,i,s,o,u,a){var f=e["stroke-width"]%2/2;t-=f;n-=f;return["M",t+s,n,"L",t+r-o,n,"C",t+r-o/2,n,t+r,n+o/2,t+r,n+o,"L",t+r,n+i-u,"C",t+r,n+i-u/2,t+r-u/2,n+i,t+r-u,n+i,"L",t+a,n+i,"C",t+a/2,n+i,t,n+i-a/2,t,n+i-a,"L",t,n+s,"C",t,n+s/2,t+s/2,n,t+s,n,"Z"]}var t,n=e.Axis,r=e.Chart,i=e.Color,s=e.Point,o=e.Pointer,u=e.Legend,a=e.LegendSymbolMixin,f=e.Renderer,l=e.Series,c=e.SVGRenderer,h=e.VMLRenderer,p=e.addEvent,d=e.each,v=e.extend,m=e.extendClass,g=e.merge,y=e.pick,b=e.getOptions(),w=e.seriesTypes,E=b.plotOptions,S=e.wrap,x=function(){};S(n.prototype,"getSeriesExtremes",function(e){var t=this.isXAxis,n,r,i=[],s;if(t){d(this.series,function(e,t){if(e.useMapGeometry){i[t]=e.xData;e.xData=[]}})}e.call(this);if(t){n=y(this.dataMin,Number.MAX_VALUE);r=y(this.dataMax,-Number.MAX_VALUE);d(this.series,function(e,t){if(e.useMapGeometry){n=Math.min(n,y(e.minX,n));r=Math.max(r,y(e.maxX,n));e.xData=i[t];s=true}});if(s){this.dataMin=n;this.dataMax=r}}});S(n.prototype,"setAxisTranslation",function(e){var n=this.chart,r,i=n.plotWidth/n.plotHeight,s,o=n.xAxis[0],u,a,f;e.call(this);if(n.options.chart.preserveAspectRatio&&this.coll==="yAxis"&&o.transA!==t){this.transA=o.transA=Math.min(this.transA,o.transA);r=i/((o.max-o.min)/(this.max-this.min));u=r<1?this:o;s=(u.max-u.min)*u.transA;u.pixelPadding=u.len-s;u.minPixelPadding=u.pixelPadding/2;a=u.fixTo;if(a){f=a[1]-u.toValue(a[0],true);f*=u.transA;if(Math.abs(f)>u.minPixelPadding||u.min===u.dataMin&&u.max===u.dataMax){f=0}u.minPixelPadding-=f}}});S(n.prototype,"render",function(e){e.call(this);this.fixTo=null});var T=e.ColorAxis=function(){this.isColorAxis=true;this.init.apply(this,arguments)};v(T.prototype,n.prototype);v(T.prototype,{defaultColorAxisOptions:{lineWidth:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:true,endOnTick:true,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(e,t){var r=e.options.legend.layout!=="vertical",i;i=g(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},t,{isX:r,opposite:!r,showEmpty:false,title:null,isColor:true});n.prototype.init.call(this,e,i);if(t.dataClasses){this.initDataClasses(t)}this.initStops(t);this.isXAxis=true;this.horiz=r;this.zoomEnabled=false},tweenColors:function(t,n,r){var i;t=t.rgba;n=n.rgba;i=n[3]!==1||t[3]!==1;if(!n.length||!t.length){e.error(23)}return(i?"rgba(":"rgb(")+Math.round(n[0]+(t[0]-n[0])*(1-r))+","+Math.round(n[1]+(t[1]-n[1])*(1-r))+","+Math.round(n[2]+(t[2]-n[2])*(1-r))+(i?","+(n[3]+(t[3]-n[3])*(1-r)):"")+")"},initDataClasses:function(e){var t=this,n=this.chart,r,s=0,o=this.options,u=e.dataClasses.length;this.dataClasses=r=[];this.legendItems=[];d(e.dataClasses,function(e,a){var f;e=g(e);r.push(e);if(!e.color){if(o.dataClassColor==="category"){f=n.options.colors;e.color=f[s++];if(s===f.length){s=0}}else{e.color=t.tweenColors(i(o.minColor),i(o.maxColor),u<2?.5:a/(u-1))}}})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]];d(this.stops,function(e){e.color=i(e[1])})},setOptions:function(e){n.prototype.setOptions.call(this,e);this.options.crosshair=this.options.marker;this.coll="colorAxis"},setAxisSize:function(){var e=this.legendSymbol,t=this.chart,n,r,i,s;if(e){this.left=n=e.attr("x");this.top=r=e.attr("y");this.width=i=e.attr("width");this.height=s=e.attr("height");this.right=t.chartWidth-n-i;this.bottom=t.chartHeight-r-s;this.len=this.horiz?i:s;this.pos=this.horiz?n:r}},toColor:function(e,n){var r,i=this.stops,s,o,u,a=this.dataClasses,f,l;if(a){l=a.length;while(l--){f=a[l];s=f.from;o=f.to;if((s===t||e>=s)&&(o===t||e<=o)){u=f.color;if(n){n.dataClass=l}break}}}else{if(this.isLog){e=this.val2lin(e)}r=1-(this.max-e)/(this.max-this.min||1);l=i.length;while(l--){if(r>i[l][0]){break}}s=i[l]||i[l+1];o=i[l+1]||s;r=1-(o[0]-r)/(o[0]-s[0]||1);u=this.tweenColors(s.color,o.color,r)}return u},getOffset:function(){var e=this.legendGroup,t=this.chart.axisOffset[this.side];if(e){n.prototype.getOffset.call(this);if(!this.axisGroup.parentGroup){this.axisGroup.add(e);this.gridGroup.add(e);this.labelGroup.add(e);this.added=true}this.chart.axisOffset[this.side]=t}},setLegendColor:function(){var e,t=this.horiz,n=this.options,r=this.reversed;e=t?[+r,0,+!r,0]:[0,+!r,0,+r];this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:n.stops||[[0,n.minColor],[1,n.maxColor]]}},drawLegendSymbol:function(e,t){var n=e.padding,r=e.options,i=this.horiz,s,o=y(r.symbolWidth,i?200:12),u=y(r.symbolHeight,i?12:200),a=y(r.labelPadding,i?16:30),f=y(r.itemDistance,10);this.setLegendColor();t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,o,u).attr({zIndex:1}).add(t.legendGroup);s=t.legendSymbol.getBBox();this.legendItemWidth=o+n+(i?f:a);this.legendItemHeight=u+n+(i?a:0)},setState:x,visible:true,setVisible:x,getSeriesExtremes:function(){var e;if(this.series.length){e=this.series[0];this.dataMin=e.valueMin;this.dataMax=e.valueMax}},drawCrosshair:function(e,t){var r=!this.cross,i=t&&t.plotX,s=t&&t.plotY,o,u=this.pos,a=this.len;if(t){o=this.toPixels(t.value);if(o<u){o=u-2}else if(o>u+a){o=u+a+2}t.plotX=o;t.plotY=this.len-o;n.prototype.drawCrosshair.call(this,e,t);t.plotX=i;t.plotY=s;if(!r&&this.cross){this.cross.attr({fill:this.crosshair.color}).add(this.labelGroup)}}},getPlotLinePath:function(e,t,r,i,s){if(s){return this.horiz?["M",s-4,this.top-6,"L",s+4,this.top-6,s,this.top,"Z"]:["M",this.left,s,"L",this.left-6,s+6,this.left-6,s-6,"Z"]}else{return n.prototype.getPlotLinePath.call(this,e,t,r,i)}},update:function(e,t){d(this.series,function(e){e.isDirtyData=true});n.prototype.update.call(this,e,t);if(this.legendItem){this.setLegendColor();this.chart.legend.colorizeItem(this,true)}},getDataClassLegendSymbols:function(){var n=this,r=this.chart,i=this.legendItems,s=r.options.legend,o=s.valueDecimals,u=s.valueSuffix||"",f;if(!i.length){d(this.dataClasses,function(s,l){var c=true,h=s.from,p=s.to;f="";if(h===t){f="< "}else if(p===t){f="> "}if(h!==t){f+=e.numberFormat(h,o)+u}if(h!==t&&p!==t){f+=" - "}if(p!==t){f+=e.numberFormat(p,o)+u}i.push(v({chart:r,name:f,options:{},drawLegendSymbol:a.drawRectangle,visible:true,setState:x,setVisible:function(){c=this.visible=!c;d(n.series,function(e){d(e.points,function(e){if(e.dataClass===l){e.setVisible(c)}})});r.legend.colorizeItem(this,c)}},s))})}return i},name:""});d(["fill","stroke"],function(e){HighchartsAdapter.addAnimSetter(e,function(t){t.elem.attr(e,T.prototype.tweenColors(i(t.start),i(t.end),t.pos))})});S(r.prototype,"getAxes",function(e){var t=this.options,n=t.colorAxis;e.call(this);this.colorAxis=[];if(n){e=new T(this,n)}});S(u.prototype,"getAllItems",function(e){var t=[],n=this.chart.colorAxis[0];if(n){if(n.options.dataClasses){t=t.concat(n.getDataClassLegendSymbols())}else{t.push(n)}d(n.series,function(e){e.options.showInLegend=false})}return t.concat(e.call(this))});var N={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:x,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var e=this,t=this.options.nullColor,n=this.colorAxis,r=this.colorKey;d(this.data,function(i){var s=i[r],o;o=s===null?t:n&&s!==undefined?n.toColor(s,i):i.color||e.color;if(o){i.color=o}})}};S(c.prototype,"buildText",function(e,t){var n=t.styles&&t.styles.HcTextStroke;e.call(this,t);if(n&&t.applyTextStroke){t.applyTextStroke(n)}});c.prototype.Element.prototype.applyTextStroke=function(e){var t=this.element,n,r;e=e.split(" ");n=t.getElementsByTagName("tspan");r=t.firstChild;this.ySetter=this.xSetter;d([].slice.call(n),function(n,i){var s;if(i===0){n.setAttribute("x",t.getAttribute("x"));if((i=t.getAttribute("y"))!==null){n.setAttribute("y",i)}}s=n.cloneNode(1);s.setAttribute("stroke",e[1]);s.setAttribute("stroke-width",e[0]);s.setAttribute("stroke-linejoin","round");t.insertBefore(s,r)})};v(r.prototype,{renderMapNavigation:function(){var e=this,t=this.options.mapNavigation,n=t.buttons,r,i,s,o,u,a=function(){this.handler.call(e)};if(y(t.enableButtons,t.enabled)&&!e.renderer.forExport){for(r in n){if(n.hasOwnProperty(r)){s=g(t.buttonOptions,n[r]);o=s.theme;u=o.states;i=e.renderer.button(s.text,0,0,a,o,u&&u.hover,u&&u.select,0,r==="zoomIn"?"topbutton":"bottombutton").attr({width:s.width,height:s.height,title:e.options.lang[r],zIndex:5}).css(s.style).add();i.handler=s.onclick;i.align(v(s,{width:i.width,height:2*i.height}),null,s.alignTo)}}}},fitToBox:function(e,t){d([["x","width"],["y","height"]],function(n){var r=n[0],i=n[1];if(e[r]+e[i]>t[r]+t[i]){if(e[i]>t[i]){e[i]=t[i];e[r]=t[r]}else{e[r]=t[r]+t[i]-e[i]}}if(e[i]>t[i]){e[i]=t[i]}if(e[r]<t[r]){e[r]=t[r]}});return e},mapZoom:function(e,t,n,r,i){var s=this,o=s.xAxis[0],u=o.max-o.min,a=y(t,o.min+u/2),f=u*e,l=s.yAxis[0],c=l.max-l.min,h=y(n,l.min+c/2),p=c*e,d=r?(r-o.pos)/o.len:.5,v=i?(i-l.pos)/l.len:.5,m=a-f*d,g=h-p*v,b=s.fitToBox({x:m,y:g,width:f,height:p},{x:o.dataMin,y:l.dataMin,width:o.dataMax-o.dataMin,height:l.dataMax-l.dataMin});if(r){o.fixTo=[r-o.pos,t]}if(i){l.fixTo=[i-l.pos,n]}if(e!==undefined){o.setExtremes(b.x,b.x+b.width,false);l.setExtremes(b.y,b.y+b.height,false)}else{o.setExtremes(undefined,undefined,false);l.setExtremes(undefined,undefined,false)}s.redraw()}});S(r.prototype,"render",function(e){var t=this,n=t.options.mapNavigation;t.renderMapNavigation();e.call(t);if(y(n.enableDoubleClickZoom,n.enabled)||n.enableDoubleClickZoomTo){p(t.container,"dblclick",function(e){t.pointer.onContainerDblClick(e)})}if(y(n.enableMouseWheelZoom,n.enabled)){p(t.container,document.onmousewheel===undefined?"DOMMouseScroll":"mousewheel",function(e){t.pointer.onContainerMouseWheel(e);return false})}});v(o.prototype,{onContainerDblClick:function(e){var t=this.chart;e=this.normalize(e);if(t.options.mapNavigation.enableDoubleClickZoomTo){if(t.pointer.inClass(e.target,"highcharts-tracker")){t.hoverPoint.zoomTo()}}else if(t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){t.mapZoom(.5,t.xAxis[0].toValue(e.chartX),t.yAxis[0].toValue(e.chartY),e.chartX,e.chartY)}},onContainerMouseWheel:function(e){var t=this.chart,n;e=this.normalize(e);n=e.detail||-(e.wheelDelta/120);if(t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){t.mapZoom(Math.pow(2,n),t.xAxis[0].toValue(e.chartX),t.yAxis[0].toValue(e.chartY),e.chartX,e.chartY)}}});S(o.prototype,"init",function(e,t,n){e.call(this,t,n);if(y(n.mapNavigation.enableTouchZoom,n.mapNavigation.enabled)){this.pinchX=this.pinchHor=this.pinchY=this.pinchVert=this.hasZoom=true}});S(o.prototype,"pinchTranslate",function(e,t,n,r,i,s,o){var u;e.call(this,t,n,r,i,s,o);if(this.chart.options.chart.type==="map"&&this.hasZoom){u=r.scaleX>r.scaleY;this.pinchTranslateDirection(!u,t,n,r,i,s,o,u?r.scaleX:r.scaleY)}});var C=document.documentElement.style.vectorEffect!==undefined;E.map=g(E.scatter,{allAreas:true,animation:false,nullColor:"#F8F8F8",borderColor:"silver",borderWidth:1,marker:null,stickyTracking:false,dataLabels:{formatter:function(){return this.point.value},verticalAlign:"middle",crop:false,overflow:false,padding:0,style:{color:"white",fontWeight:"bold",HcTextStroke:"3px rgba(0,0,0,0.5)"}},turboThreshold:0,tooltip:{followPointer:true,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:true},hover:{brightness:.2,halo:null}}});var k=m(s,{applyOptions:function(e,t){var n=s.prototype.applyOptions.call(this,e,t),r=this.series,i=r.joinBy,o;if(r.mapData){o=n[i[1]]!==undefined&&r.mapMap[n[i[1]]];if(o){if(r.xyFromShape){n.x=o._midX;n.y=o._midY}v(n,o)}else{n.value=n.value||null}}return n},setVisible:function(e){var t=this,n=e?"show":"hide";d(["graphic","dataLabel"],function(e){if(t[e]){t[e][n]()}})},onMouseOver:function(e){clearTimeout(this.colorInterval);if(this.value!==null){s.prototype.onMouseOver.call(this,e)}else{this.series.onMouseOut(e)}},onMouseOut:function(){var e=this,t=+(new Date),n=i(e.color),r=i(e.pointAttr.hover.fill),o=e.series.options.states.normal.animation,u=o&&(o.duration||500),a;if(u&&n.rgba.length===4&&r.rgba.length===4&&e.state!=="select"){a=e.pointAttr[""].fill;delete e.pointAttr[""].fill;clearTimeout(e.colorInterval);e.colorInterval=setInterval(function(){var i=(new Date-t)/u,s=e.graphic;if(i>1){i=1}if(s){s.attr("fill",T.prototype.tweenColors.call(0,r,n,i))}if(i>=1){clearTimeout(e.colorInterval)}},13)}s.prototype.onMouseOut.call(e);if(a){e.pointAttr[""].fill=a}},zoomTo:function(){var e=this,t=e.series;t.xAxis.setExtremes(e._minX,e._maxX,false);t.yAxis.setExtremes(e._minY,e._maxY,false);t.chart.redraw()}});w.map=m(w.scatter,g(N,{type:"map",pointClass:k,supportsDrilldown:true,getExtremesFromAll:true,useMapGeometry:true,forceDL:true,getBox:function(n){var r=Number.MAX_VALUE,i=-r,s=r,o=-r,u=r,a=r,f=this.xAxis,l=this.yAxis,c;d(n||[],function(t){if(t.path){if(typeof t.path==="string"){t.path=e.splitPath(t.path)}var n=t.path||[],f=n.length,l=false,h=-r,p=r,d=-r,v=r,m=t.properties;if(!t._foundBox){while(f--){if(typeof n[f]==="number"&&!isNaN(n[f])){if(l){h=Math.max(h,n[f]);p=Math.min(p,n[f])}else{d=Math.max(d,n[f]);v=Math.min(v,n[f])}l=!l}}t._midX=p+(h-p)*(t.middleX||m&&m["hc-middle-x"]||.5);t._midY=v+(d-v)*(t.middleY||m&&m["hc-middle-y"]||.5);t._maxX=h;t._minX=p;t._maxY=d;t._minY=v;t.labelrank=y(t.labelrank,(h-p)*(d-v));t._foundBox=true}i=Math.max(i,t._maxX);s=Math.min(s,t._minX);o=Math.max(o,t._maxY);u=Math.min(u,t._minY);a=Math.min(t._maxX-t._minX,t._maxY-t._minY,a);c=true}});if(c){this.minY=Math.min(u,y(this.minY,r));this.maxY=Math.max(o,y(this.maxY,-r));this.minX=Math.min(s,y(this.minX,r));this.maxX=Math.max(i,y(this.maxX,-r));if(f&&f.options.minRange===undefined){f.minRange=Math.min(5*a,(this.maxX-this.minX)/5,f.minRange||r)}if(l&&l.options.minRange===undefined){l.minRange=Math.min(5*a,(this.maxY-this.minY)/5,l.minRange||r)}}else{this.minY=t;this.maxY=t;this.minX=t;this.maxX=t}},getExtremes:function(){l.prototype.getExtremes.call(this,this.valueData);if(this.chart.hasRendered&&this.isDirtyData){this.getBox(this.options.data)}this.valueMin=this.dataMin;this.valueMax=this.dataMax;this.dataMin=this.minY;this.dataMax=this.maxY},translatePath:function(e){var t=this,n=false,r=t.xAxis,i=t.yAxis,s=r.min,o=r.transA,u=r.minPixelPadding,a=i.min,f=i.transA,l=i.minPixelPadding,c,h=[];if(e){c=e.length;while(c--){if(typeof e[c]==="number"){h[c]=n?(e[c]-s)*o+u:(e[c]-a)*f+l;n=!n}else{h[c]=e[c]}}}return h},setData:function(t,n){var r=this.options,i=r.mapData,s=r.joinBy,o=s===null,u=[],a,f,c;if(o){s="_i"}s=this.joinBy=e.splat(s);if(!s[1]){s[1]=s[0]}if(t){d(t,function(e,n){if(typeof e==="number"){t[n]={value:e}}if(o){t[n]._i=n}})}this.getBox(t);if(i){if(i.type==="FeatureCollection"){i=e.geojson(i,this.type,this)}this.getBox(i);this.mapData=i;this.mapMap={};for(c=0;c<i.length;c++){a=i[c];f=a.properties;a._i=c;if(s[0]&&f&&f[s[0]]){a[s[0]]=f[s[0]]}this.mapMap[a[s[0]]]=a}if(r.allAreas){t=t||[];if(s[1]){d(t,function(e){u.push(e[s[1]])})}u="|"+u.join("|")+"|";d(i,function(e){if(!s[0]||u.indexOf("|"+e[s[0]]+"|")===-1){t.push(g(e,{value:null}))}})}}l.prototype.setData.call(this,t,n)},drawGraph:x,drawDataLabels:x,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var e=this,t=e.xAxis,n=e.yAxis,r=e.doFullTranslate();e.generatePoints();d(e.data,function(i){i.plotX=t.toPixels(i._midX,true);i.plotY=n.toPixels(i._midY,true);if(r){i.shapeType="path";i.shapeArgs={d:e.translatePath(i.path)};if(C){i.shapeArgs["vector-effect"]="non-scaling-stroke"}}});e.translateColors()},drawPoints:function(){var e=this,t=e.xAxis,n=e.yAxis,r=e.group,i=e.chart,s=i.renderer,o,u,a,f,l=this.baseTrans;if(!e.transformGroup){e.transformGroup=s.g().attr({scaleX:1,scaleY:1}).add(r)}if(e.doFullTranslate()){if(i.hasRendered&&e.pointAttrToOptions.fill==="color"){d(e.points,function(e){if(e.graphic){e.graphic.attr("fill",e.color)}})}if(!C){d(e.points,function(t){var n=t.pointAttr[""];if(n["stroke-width"]===e.pointAttr[""]["stroke-width"]){n["stroke-width"]="inherit"}})}e.group=e.transformGroup;w.column.prototype.drawPoints.apply(e);e.group=r;d(e.points,function(e){if(e.graphic){if(e.name){e.graphic.addClass("highcharts-name-"+e.name.replace(" ","-").toLowerCase())}if(e.properties&&e.properties["hc-key"]){e.graphic.addClass("highcharts-key-"+e.properties["hc-key"].toLowerCase())}if(!C){e.graphic["stroke-widthSetter"]=x}}});this.baseTrans={originX:t.min-t.minPixelPadding/t.transA,originY:n.min-n.minPixelPadding/n.transA+(n.reversed?0:n.len/n.transA),transAX:t.transA,transAY:n.transA}}else{o=t.transA/l.transAX;u=n.transA/l.transAY;if(o>.99&&o<1.01&&u>.99&&u<1.01){a=0;f=0;o=1;u=1}else{a=t.toPixels(l.originX,true);f=n.toPixels(l.originY,true)}this.transformGroup.animate({translateX:a,translateY:f,scaleX:o,scaleY:u})}if(!C){e.group.element.setAttribute("stroke-width",e.options.borderWidth/(o||1))}this.drawMapDataLabels()},drawMapDataLabels:function(){l.prototype.drawDataLabels.call(this);if(this.dataLabelsGroup){this.dataLabelsGroup.clip(this.chart.clipRect)}},render:function(){var e=this,t=l.prototype.render;if(e.chart.renderer.isVML&&e.data.length>3e3){setTimeout(function(){t.call(e)})}else{t.call(e)}},animate:function(e){var t=this.chart,n=this.options.animation,r=this.group,i=this.xAxis,s=this.yAxis,o=i.pos,u=s.pos;if(t.renderer.isSVG){if(n===true){n={duration:1e3}}if(e){r.attr({translateX:o+i.len/2,translateY:u+s.len/2,scaleX:.001,scaleY:.001})}else{r.animate({translateX:o,translateY:u,scaleX:1,scaleY:1},n);this.animate=null}}},animateDrilldown:function(e){var t=this.chart.plotBox,n=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],r=n.bBox,i=this.chart.options.drilldown.animation,s;if(!e){s=Math.min(r.width/t.width,r.height/t.height);n.shapeArgs={scaleX:s,scaleY:s,translateX:r.x,translateY:r.y};d(this.points,function(e){e.graphic.attr(n.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},i)});this.animate=null}},drawLegendSymbol:a.drawRectangle,animateDrillupFrom:function(e){w.column.prototype.animateDrillupFrom.call(this,e)},animateDrillupTo:function(e){w.column.prototype.animateDrillupTo.call(this,e)}}));(function(e){var t=e.Series,n=e.wrap;n(t.prototype,"drawDataLabels",function(e){e.call(this);this.hideOverlappingDataLabels()});t.prototype.hideOverlappingDataLabels=function(){var e=this.points,t=e.length,n,r,i,s,o,u,a=function(e,t,n,r){return!(t.x>e.x+n.width||t.x+r.width<e.x||t.y>e.y+n.height||t.y+r.height<e.y)};for(i=0;i<t;i++){n=e[i];r=n.dataLabel;if(r){r.oldOpacity=r.opacity;r.newOpacity=1}}for(i=0;i<t;i++){n=e[i];o=n.dataLabel;for(s=i+1;s<t;++s){u=e[s].dataLabel;if(o&&u&&o.placed&&u.placed&&o.newOpacity!==0&&u.newOpacity!==0&&a(o.alignAttr,u.alignAttr,o,u)){(n.labelrank<e[s].labelrank?o:u).newOpacity=0}}}for(i=0;i<t;i++){r=e[i].dataLabel;if(r){if(r.oldOpacity!==r.newOpacity&&r.placed){r.alignAttr.opacity=r.newOpacity;r[r.isOld?"animate":"attr"](r.alignAttr)}r.isOld=true}}}})(e);E.mapline=g(E.map,{lineWidth:1,fillColor:"none"});w.mapline=m(w.map,{type:"mapline",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth",fill:"fillColor",dashstyle:"dashStyle"},drawLegendSymbol:w.line.prototype.drawLegendSymbol});E.mappoint=g(E.scatter,{dataLabels:{enabled:true,formatter:function(){return this.point.name},color:"black",crop:false,defer:false,overflow:false,style:{HcTextStroke:"3px rgba(255,255,255,0.5)"}}});w.mappoint=m(w.scatter,{type:"mappoint",forceDL:true});if(w.bubble){E.mapbubble=g(E.bubble,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}});w.mapbubble=m(w.bubble,{pointClass:m(s,{applyOptions:k.prototype.applyOptions}),xyFromShape:true,type:"mapbubble",pointArrayMap:["z"],getMapData:w.map.prototype.getMapData,getBox:w.map.prototype.getBox,setData:w.map.prototype.setData})}b.plotOptions.heatmap=g(b.plotOptions.scatter,{animation:false,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},verticalAlign:"middle",crop:false,overflow:false,style:{color:"white",fontWeight:"bold",HcTextStroke:"1px rgba(0,0,0,0.5)"}},marker:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:true},hover:{halo:false,brightness:.2}}});w.heatmap=m(w.scatter,g(N,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:true,supportsDrilldown:true,getExtremesFromAll:true,init:function(){w.scatter.prototype.init.apply(this,arguments);this.pointRange=this.options.colsize||1;this.yAxis.axisPointRange=this.options.rowsize||1},translate:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis;e.generatePoints();d(e.points,function(e){var i=(t.colsize||1)/2,s=(t.rowsize||1)/2,o=Math.round(n.len-n.translate(e.x-i,0,1,0,1)),u=Math.round(n.len-n.translate(e.x+i,0,1,0,1)),a=Math.round(r.translate(e.y-s,0,1,0,1)),f=Math.round(r.translate(e.y+s,0,1,0,1));e.plotX=(o+u)/2;e.plotY=(a+f)/2;e.shapeType="rect";e.shapeArgs={x:Math.min(o,u),y:Math.min(a,f),width:Math.abs(u-o),height:Math.abs(f-a)}});e.translateColors();if(this.chart.hasRendered){d(e.points,function(e){e.shapeArgs.fill=e.options.color||e.color})}},drawPoints:w.column.prototype.drawPoints,animate:x,getBox:x,drawLegendSymbol:a.drawRectangle,getExtremes:function(){l.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;l.prototype.getExtremes.call(this)}}));e.geojson=function(e,t,n){var r=[],i=[],s=function(e){var t=0,n=e.length;i.push("M");for(;t<n;t++){if(t===1){i.push("L")}i.push(e[t][0],-e[t][1])}};t=t||"map";d(e.features,function(e){var n=e.geometry,o=n.type,u=n.coordinates,a=e.properties,f;i=[];if(t==="map"||t==="mapbubble"){if(o==="Polygon"){d(u,s);i.push("Z")}else if(o==="MultiPolygon"){d(u,function(e){d(e,s)});i.push("Z")}if(i.length){f={path:i}}}else if(t==="mapline"){if(o==="LineString"){s(u)}else if(o==="MultiLineString"){d(u,s)}if(i.length){f={path:i}}}else if(t==="mappoint"){if(o==="Point"){f={x:u[0],y:-u[1]}}}if(f){r.push(v(f,{name:a.name||a.NAME,properties:a}))}});if(n&&e.copyrightShort){n.chart.mapCredits='<a href="http://www.highcharts.com">Highcharts</a> © '+'<a href="'+e.copyrightUrl+'">'+e.copyrightShort+"</a>";n.chart.mapCreditsFull=e.copyright}return r};S(r.prototype,"showCredits",function(e,t){if(b.credits.text===this.options.credits.text&&this.mapCredits){t.text=this.mapCredits;t.href=null}e.call(this,t);if(this.credits){this.credits.attr({title:this.mapCreditsFull})}});v(b.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"});b.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,style:{fontSize:"15px",fontWeight:"bold",textAlign:"center"},theme:{"stroke-width":1}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}}};e.splitPath=function(e){var t;e=e.replace(/([A-Za-z])/g," $1 ");e=e.replace(/^\s*/,"").replace(/\s*$/,"");e=e.split(/[ ,]+/);for(t=0;t<e.length;t++){if(!/[a-zA-Z]/.test(e[t])){e[t]=parseFloat(e[t])}}return e};e.maps={};c.prototype.symbols.topbutton=function(e,t,n,r,i){return L(i,e,t,n,r,i.r,i.r,0,0)};c.prototype.symbols.bottombutton=function(e,t,n,r,i){return L(i,e,t,n,r,0,0,i.r,i.r)};if(f===h){d(["topbutton","bottombutton"],function(e){h.prototype.symbols[e]=c.prototype.symbols[e]})}e.Map=function(e,t){var n={endOnTick:false,gridLineWidth:0,lineWidth:0,minPadding:0,maxPadding:0,startOnTick:false,title:null,tickPositions:[]},i;i=e.series;e.series=null;e=g({chart:{panning:"xy",type:"map"},xAxis:n,yAxis:g(n,{reversed:true})},e,{chart:{inverted:false,alignTicks:false,preserveAspectRatio:true}});e.series=i;return new r(e,t)}})(Highcharts)