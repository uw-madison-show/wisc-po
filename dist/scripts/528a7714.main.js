function helperSetup(){Handlebars.registerHelper("dropDownIndicators",function(a){var b;return $.each(dropDownIndicators,function(){var c="";this[0]===a&&(c="selected"),b+="<option "+c+' value="'+this[0]+'" data-variable="'+this[1]+'">'+this[0]+"</option>"}),new Handlebars.SafeString(b)}),Handlebars.registerHelper("dropDownCounty",function(a){var b=[];b.push("All Counties");for(var c in regionDictionary)b.push(c);for(var d="",e=0;e<b.length;e++){var f="";b[e]===a&&(f="selected"),d+="<option "+f+' value="'+b[e]+'">'+b[e]+"</option>"}return new Handlebars.SafeString(d)})}function downloadWatchers(){$('input[name="county"]').on("switchChange.bootstrapSwitch",function(a,b){$(".dropDownCounty").prop("disabled",!b)}),$("input").on("switchChange.bootstrapSwitch",function(){fillTable()}),$("select").change(function(){var a=$(".dropDownIndicators option:selected").data("variable");currentMap=getAreaData("county",a),currentLine=getLineData(a),fillTable()})}function chartWatchers(){$(".dropDownIndicators").change(function(){var a=$("option:selected",this).data("variable"),b=$("option:selected",this).val(),c=$(".chart:eq(0)").highcharts(),d=$(".chart:eq(1)").highcharts();$("#val").text("Selected Value: No region selected"),currentMap=getAreaData("county",a),c.destroy(),createMap($(".chart:eq(0)"),currentMap.observations,county,b),currentLine=getLineData(a),d.destroy(),createChart($(".chart:eq(1)"),"line",currentLine,[],y,b),d=$(".chart:eq(1)").highcharts();var e="percent"===currentLine.data_type,f=e?"Percent %":"Value";$(".chart:eq(1)").highcharts().yAxis[0].setTitle({text:f})}),$('input[name="errorbar"]').on("switchChange.bootstrapSwitch",function(a,b){setTimeout(function(){var a=$(".chart:eq(1)").highcharts();$.each(a.series,function(){"errorbar"===this.options.type&&this.linkedParent.visible&&(b?this.show():this.hide())})},500)}),$('input[name="largecharts"]').on("switchChange.bootstrapSwitch",function(){var a=$(".chart:eq(0)"),b=$(".chart:eq(1)");a.parent().toggleClass("col-md-6"),b.parent().toggleClass("col-md-6"),a.parent().toggleClass("largeChart"),b.parent().toggleClass("largeChart"),a.parent().toggleClass("smallChart"),b.parent().toggleClass("smallChart"),a.highcharts().reflow(),a.highcharts().redraw(),b.highcharts().reflow(),b.highcharts().redraw()})}function initTemplates(){var a=$.Deferred();gotData?a.resolve():(getData(a),gotData=!0),$.when(a).done(function(){if(window.location.href.match(/\#.*/)){var a=window.location.href.match(/\#.*/)[0].substring(1);a?($("#content").html(templates[a]),$(".bootstrapSwitch").bootstrapSwitch(),"data"===a?($("#minusIcon").hide(),fillTable(),downloadWatchers()):"charts"===a&&setupCharts()):$("#content").html(templates.index)}else $("#content").html(templates.index)})}function createChart(a,b,c,d,e,f){var g=$.extend(!0,{},chartOptions);switch(g.series=$.extend(!0,[],c),d&&0!==d.length&&(g.xAxis=d),e&&0!==e.length&&(g.yAxis=e),f&&(g.title.text=f),b){case"line":g.chart.type="line",a.highcharts(g);break;case"spline":g.chart.type="spline",a.highcharts(g);break;case"column":g.chart.type="column",a.highcharts(g);break;case"pie":g.chart.type="pie",a.highcharts(g);break;case"map":g.chart.type="map";var h=$.extend(!0,{},mapOptions);g.colorAxis=h.colorAxis,g.tooltip=h.tooltip,a.highcharts("Map",g)}}function createMap(a,b,c,d){var e=new Array($.extend(!0,{},mapSeries));e[0].data=b,e[0].mapData=c,e[0].name=d,e.push({type:"mapline",name:"Borders",color:"black",data:[regionMaps[0].data[0],regionMaps[1].data[0],regionMaps[2].data[0],regionMaps[3].data[0],regionMaps[4].data[0]],enableMouseTracking:!1}),createChart(a,"map",e,[],[],d)}function humanize(a){for(var b=a.split("_"),c=0;c<b.length;c++)b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1);return b.join(" ")}function transformData(a,b,c){var d=-1,e=-1;return a?(d=parseFloat(((a+b)*(c?100:1)).toFixed(rounding)),e=parseFloat(((a-b)*(c?100:1)).toFixed(rounding)),a=parseFloat((a*(c?100:1)).toFixed(rounding))):a=-1,[a,e,d]}function getAreaData(a,b){var c=$.extend(!0,{},data[a][b]),d="percent"===c.data_type;return c?(c.error=[],$.each(c.observations,function(b,e){c.error.push({}),c.error[b].data=[],c.error[b].name=e.name+" - Error",c.error[b].parent=e.parent;var f=[];$.each(e.data,function(a,e){f=transformData(e[1],e[2],d),c.error[b].data[a]=[e[0],f[1],f[2]],e[1]=f[0],e.splice(2,1)}),"county"===a?(e.value=e.data[0][1],e.region=e.parent,e["hc-key"]=e.id,delete e.parent,delete e.data):c.error[b].linkedTo=e.id}),c):{}}function getCurrentCountyData(a){var b=$.grep(currentMap.observations,function(b){return b.name===a});return b[0]}function getCurrentCountyError(a){var b=$.grep(currentMap.error,function(b){return b.name===a+" - Error"});return b[0].data[0]}function getLineData(a){var b=getAreaData("region",a),c=getAreaData("state",a),d=[];$.each(b.observations,function(){this.visible=!1,d.push(this)}),$.each(b.error,function(){this.type="errorbar",this.visible=!1,d.push(this)}),d.push(c.observations[0]);var e=c.error[0];return e.type="errorbar",e.visible=$('input[name="errorbar"]').bootstrapSwitch("state"),d.push(e),d}function setupCharts(){var a=$(".dropDownIndicators option:selected").data("variable"),b=$(".dropDownIndicators option:selected").val();currentMap=getAreaData("county",a),createMap($(".chart:eq(0)"),currentMap.observations,county,b),currentLine=getLineData(a),createChart($(".chart:eq(1)"),"line",currentLine,[],y,b);var c=$(".chart:eq(1)").highcharts(),d=$('input[name="errorbar"]').bootstrapSwitch("state");$.each(c.series,function(){"Wisconsin"===this.name||"United States"===this.name?this.show():"errorbar"===this.options.type&&d||this.hide()});var e="percent"===currentLine.data_type,f=e?"Percent %":"Value";$(".chart:eq(1)").highcharts().yAxis[0].setTitle({text:f}),chartWatchers()}function getData(a){$.getJSON("data/data.json",function(b){data=b,$.each(data,function(){$.each(this,function(a){dropDownIndicators[a]=[this.name,a]})}),helperSetup(),a.resolve()})}function addRow(a,b,c,d,e){var f=" - ";-1===c&&(c="No Data",d="No Data",f="",e=""),$("#myTable").append("<tr><td>"+a+"</td><td>"+b+"</td><td>"+c+"</td><td>"+d+f+e+"</td>")}function addArea(a,b){var c=getAreaData(a,b);"county"===a&&(currentMap=c),$.each(c.observations,function(b,d){var e=d.name,f="",g="",h="";"county"!==a?$.each(d.data,function(a,d){f=d[0],g=d[1],h=c.error[b].data[a],addRow(e,f,g,h[1],h[2])}):(g=getCurrentCountyData(e).value,h=getCurrentCountyError(e)),-1!==g&&addRow(e,f,g,h[1],h[2])})}function fillTable(){var a=$(".dropDownIndicators option:selected").data("variable"),b=$(".dropDownIndicators option:selected").text(),c=$(".dropDownCounty option:selected").text(),d=$('input[name="county"]').bootstrapSwitch("state"),e=$('input[name="region"]').bootstrapSwitch("state"),f=$('input[name="state"]').bootstrapSwitch("state");if($("#myTable").empty(),$("#myTable").append("<tr><th>Name</th><th>Year</th><th>"+b+"</th><th>"+b+" - Error</th></tr>"),d)if("All Counties"===c)addArea("county",a);else{currentMap=getAreaData("county",a);var g=getCurrentCountyData(c).value,h=getCurrentCountyError(c);addRow(c,"",g,h[1],h[2])}e&&addArea("region",a),f&&addArea("state",a)}this.templates=this.templates||{},Handlebars.registerPartial("dropdown",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<nav role="navigation" class="navbar navbar-default chartSelect">\n\n  <!-- Brand and toggle get grouped for better mobile display -->\n  <div class="navbar-header">\n    <button type="button" data-target="#dataCollapse" data-toggle="collapse" class="navbar-toggle">\n      <span class="sr-only">Toggle navigation</span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n    </button>\n    <span class="navbar-brand">Options</span>\n  </div>\n\n\n  <div class="clearfix"></div>\n\n  <!-- Collection of nav links and other content for toggling -->\n  <div id="dataCollapse" class="collapse navbar-collapse">\n    <form>\n\n      <div class="form-group nav-select col-sm-5 col-xs-12">\n        <label class="control-label">Factor</label>\n        <select class="form-control dropDownIndicators">\n          '+h((e=null!=(e=b.dropDownIndicators||(null!=a?a.dropDownIndicators:a))?e:g,typeof e===f?e.call(a,{name:"dropDownIndicators",hash:{},data:d}):e))+'\n        </select>\n      </div>\n\n      <!-- <div class="form-group nav-select col-sm-2">\n        <label class="control-label">Year</label>\n        <select disabled class="form-control dropDownB">\n        </select>\n      </div>\n\n      <div class="form-group nav-select col-sm-3">\n        <label class="control-label">Map Detail</label>\n        <select disabled class="form-control dropDownC">\n        </select>\n      </div> -->\n\n      <div class="form-group nav-select col-sm-offset-1 col-sm-3 col-xs-6">\n        <label class="control-label">Errorbars</label>\n        <br>\n        <input class="bootstrapSwitch" type="checkbox" name="errorbar">\n      </div>\n\n      <div class="form-group nav-select col-sm-3 col-xs-6">\n        <label class="control-label">Large&nbsp;Charts</label>\n        <br>\n        <input class="bootstrapSwitch" type="checkbox" name="largecharts">\n      </div>\n\n    </form>\n  </div>\n\n\n</nav>\n'},useData:!0})),Handlebars.registerPartial("footer",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="clearfix"></div>\n\n<div class="footer">\n  <p>UW Madison SHOW and Andrew McOlash, 2014-2015</p>\n</div>'},useData:!0})),Handlebars.registerPartial("halfChart",Handlebars.template({1:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='    <div class="clearfix"></div>\n\n    <nav role="navigation" class="navbar navbar-default chartSelect">\n\n      <!-- Brand and toggle get grouped for better mobile display -->\n      <div class="navbar-header">\n        <button type="button" data-target="#dataCollapse" data-toggle="collapse" class="navbar-toggle">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n        <span class="navbar-brand">Chart '+i((f=null!=(f=b.num||(null!=a?a.num:a))?f:h,typeof f===g?f.call(a,{name:"num",hash:{},data:d}):f))+'</span>\n      </div>\n\n      <!-- Collection of nav links and other content for toggling -->\n      <div id="dataCollapse" class="collapse navbar-collapse">\n';return e=b["if"].call(a,null!=a?a.type:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+='\n        <div class="clearfix"></div>\n\n\n\n',e=b["if"].call(a,null!=a?a.dropdown:a,{name:"if",hash:{},fn:this.program(5,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+"\n      </div>\n    </nav>\n\n"},2:function(a,b,c,d){var e,f='        <ul id="chartType" class="nav navbar-nav navbar-right">\n          <li ';return e=b["if"].call(a,null!=a?a.line:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="line" data-toggle="pill">\n            <a href="#">Line</a>\n          </li>\n          <li ',e=b["if"].call(a,null!=a?a.spline:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="spline" data-toggle="pill">\n            <a href="#">Spline</a>\n          </li>\n          <li ',e=b["if"].call(a,null!=a?a.column:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="column" data-toggle="pill">\n            <a href="#">Bar</a>\n          </li>\n          <li ',e=b["if"].call(a,null!=a?a.pie:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="pie" data-toggle="pill">\n            <a href="#">Pie</a>\n          </li>\n          <li ',e=b["if"].call(a,null!=a?a.map:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+' data-type="map" data-toggle="pill">\n            <a href="#">Map</a>\n          </li>\n\n          <!--\n          <li>\n            <a data-toggle="dropdown" href="#">Dropdown <b class="caret"></b></a>\n              <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\n                <li><a href="#">Var 1</a></li>\n                <li><a href="#">Var 2</a></li>\n                <li><a href="#">Var 3</a></li>\n                <li><a href="#">Var 4</a></li>\n                <li><a href="#">Var 5</a></li>\n              </ul>\n          </li>\n          -->\n\n        </ul>\n\n'},3:function(){return' class="active" '},5:function(){return'\n        <form class="form-horizontal">\n\n          <div class="form-group nav-select">\n            <label class="col-sm-3 control-label">Location</label>\n            <div class="col-sm-9">\n              <select class="form-control dropDownA">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group nav-select">\n            <label class="col-sm-3 control-label">Variable B</label>\n            <div class="col-sm-9">\n              <select class="form-control dropDownB">\n              </select>\n            </div>\n          </div>\n\n          <div class="form-group nav-select">\n            <label class="col-sm-3 control-label">Variable C</label>\n            <div class="col-sm-9">\n              <select class="form-control dropDownC">\n              </select>\n            </div>\n          </div>\n\n        </form>\n\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div id="chartContainer'+i((f=null!=(f=b.num||(null!=a?a.num:a))?f:h,typeof f===g?f.call(a,{name:"num",hash:{},data:d}):f))+'" class="col-sm-12 col-md-6 chartContainer smallChart">\n  <div id="chart'+i((f=null!=(f=b.num||(null!=a?a.num:a))?f:h,typeof f===g?f.call(a,{name:"num",hash:{},data:d}):f))+'" class="chart col-sm-12"></div>\n\n';return e=b["if"].call(a,null!=a?a.details:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+"\n</div>\n"},useData:!0})),Handlebars.registerPartial("header",Handlebars.template({1:function(){return"active"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<header>\n  <nav role="navigation" class="navbar navbar-default">\n\n    <!-- Brand and toggle get grouped for better mobile display -->\n    <div class="navbar-header">\n      <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <span class="navbar-brand">Wisconsin Portal - ICTR Data Dissemination</span>\n    </div>\n\n    <!-- Collection of nav links and other content for toggling -->\n    <div id="navbarCollapse" class="collapse navbar-collapse">\n      <ul class="nav navbar-nav navbar-right">\n        <li class="';return e=b["if"].call(a,null!=a?a.active_home:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+='"><a href="#">Home</a></li>\n        <li class="',e=b["if"].call(a,null!=a?a.active_charts:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+='"><a href="#charts">Charts</a></li>\n        <li class="',e=b["if"].call(a,null!=a?a.active_data:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+='"><a href="#data">Data</a></li>\n        <li class="',e=b["if"].call(a,null!=a?a.active_about:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+='"><a href="#about">About</a></li>\n        <li class="',e=b["if"].call(a,null!=a?a.active_contact:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+'"><a href="#contact">Contact</a></li>\n      </ul>\n    </div>\n  </nav>\n</header>\n\n<div class="jumbotron hidden-print">\n  <img class="img-responsive" src="images/logo.png" alt="">\n</div>\n\n<img class="img-responsive visible-print-block" src="images/logo.png" alt="">\n'},useData:!0})),Handlebars.registerPartial("linechart",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="chart lineChart col-xs-12"></div>'},useData:!0})),Handlebars.registerPartial("table",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="col-xs-12">\n\n  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">\n\n    <div class="panel panel-default">\n      <div data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true"\n      aria-controls="collapseOne"class="panel-heading" role="tab" id="headingOne">\n        <h4 class="panel-title pull-left">Data Table</h4>\n        <span id="minusIcon" class="glyphicon glyphicon-minus pull-right"></span>\n        <span id="plusIcon" class="glyphicon glyphicon-plus pull-right"></span>\n        <div class="clearfix"></div>\n      </div>\n      <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\n        <div class="panel-body">\n          <table id="myTable" class="table table-striped table-responsive">\n            <thead>\n              <tr>\n                <th>Index</th>\n                <th>County Name</th>\n                <th>Region</th>\n                <th>Data</th>\n                <th>HighCharts Id</th>\n              </tr>\n            </thead>\n\n            <tbody>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</div>'},useData:!0})),this.templates.about=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="container">\n\n';return e=this.invokePartial(c.header,"  ","header",a,{active_about:!0},b,c,d),null!=e&&(f+=e),f+="\n  <h1>About Us</h1>\n\n",e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\n</div>\n"},usePartial:!0,useData:!0}),this.templates.charts=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="container">\n\n';return e=this.invokePartial(c.header,"  ","header",a,{active_charts:!0},b,c,d),null!=e&&(f+=e),f+="\n  <h1>Data Charts</h1>\n  <hr/>\n\n",e=this.invokePartial(c.dropdown,"  ","dropdown",a,void 0,b,c,d),null!=e&&(f+=e),f+='\n  <h2 id="val" class="hidden-print">Selected Value: No region selected</h2>\n\n  <div class="row">\n',e=this.invokePartial(c.halfChart,"    ","halfChart",a,{map:!0,num:"0"},b,c,d),null!=e&&(f+=e),e=this.invokePartial(c.halfChart,"    ","halfChart",a,{column:!0,num:"1"},b,c,d),null!=e&&(f+=e),f+="  </div>\n\n",e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\n</div>\n"},usePartial:!0,useData:!0}),this.templates.contact=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="container">\n\n';return e=this.invokePartial(c.header,"  ","header",a,{active_contact:!0},b,c,d),null!=e&&(f+=e),f+="\n  <h1>Contact Us</h1>\n\n",e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\n</div>\n"},usePartial:!0,useData:!0}),this.templates.data=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div class="container">\n\n';return e=this.invokePartial(c.header,"  ","header",a,{active_data:!0},b,c,d),null!=e&&(j+=e),j+='\n  <h1>Get Our Data</h1>\n  <hr/>\n\n  <p>The data that we have is availible to the public. Below we have packaged the sample data\n    that is used on this site. If you would like a more specific set of data, you can work\n    with our group to tailor our data to your needs using the self-guided\n    <a href="#contact">data request tool</a> in our contact page.\n  </p>\n\n  <h3>Data Download</h3>\n\n  <div class="row">\n    <div class="form-group nav-select col-xs-4 col-sm-3">\n      <label class="control-label">County&nbsp;Data</label>\n      <br>\n      <input class="bootstrapSwitch" type="checkbox" name="county">\n    </div>\n    <div class="form-group nav-select col-xs-4 col-sm-3">\n      <label class="control-label">Region&nbsp;Data</label>\n      <br>\n      <input class="bootstrapSwitch" type="checkbox" name="region">\n    </div>\n    <div class="form-group nav-select col-xs-4 col-sm-3">\n      <label class="control-label">State&nbsp;Data</label>\n      <br>\n      <input class="bootstrapSwitch" type="checkbox" name="state">\n    </div>\n    <!-- <div class="form-group nav-select col-xs-4 col-sm-3">\n      <label class="control-label">Country&nbsp;Data</label>\n      <br>\n      <input class="bootstrapSwitch" type="checkbox" name="country">\n    </div> -->\n  </div>\n\n  <div class="row">\n    <div class="form-group nav-select col-xs-6">\n      <label class="control-label">County</label>\n      <select disabled class="form-control dropDownCounty">\n        '+i((f=null!=(f=b.dropDownCounty||(null!=a?a.dropDownCounty:a))?f:h,typeof f===g?f.call(a,{name:"dropDownCounty",hash:{},data:d}):f))+'\n      </select>\n    </div>\n    <div class="form-group nav-select col-xs-6">\n      <label class="control-label">Factor</label>\n      <select class="form-control dropDownIndicators">\n        '+i((f=null!=(f=b.dropDownIndicators||(null!=a?a.dropDownIndicators:a))?f:h,typeof f===g?f.call(a,{name:"dropDownIndicators",hash:{},data:d}):f))+'\n      </select>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">\n\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h3 class="panel-title">Data Table</h3>\n    </div>\n    <div class="panel-body">\n      <table id="myTable" class="table table-striped table-responsive">\n\n      </table>\n    </div>\n  </div>\n\n</div>\n\n  <div class="row">\n    <div class="col-xs-12">\n      <!-- <a id="download" onClick="downloadData()" class="btn btn-primary btn-lg" role="button">Download</a> -->\n      <a download="data.csv" href="#" onclick="return ExcellentExport.csv(this, \'myTable\');"\n        class="btn btn-primary btn-lg" role="button">Download as CSV</a>\n      <a download="data.xls" href="#" onclick="return ExcellentExport.excel(this, \'myTable\');"\n        class="btn btn-success btn-lg marginLeft" role="button">Download for Excel</a>\n    </div>\n  </div>\n\n',e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(j+=e),j+"\n</div>\n"},usePartial:!0,useData:!0}),this.templates.index=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="container">\n\n';return e=this.invokePartial(c.header,"  ","header",a,{active_home:!0},b,c,d),null!=e&&(f+=e),f+="\n  <h1>Welcome to SHOW</h1>\n\n  <p>\n    The Survey of the Health of Wisconsin (SHOW) is the first statewide research\n    survey of its kind to measure information on critical health conditions in\n    Wisconsin. Findings from SHOW present a comprehensive picture of the health\n    of Wisconsin residents, helping to identify needs and target resources where\n    they are most needed.\n  </p>\n  <p>\n    The Survey of the Health of Wisconsin is funded by the Wisconsin Partnership\n    Program and is under the direction of principal investigator Dr. F. Javier\n    Nieto and co-director Dr. Kristen Malecki and their team at the University of\n    Wisconsin School of Medicine and Public Health.\n  </p>\n\n",e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\n</div>\n"},usePartial:!0,useData:!0}),$(window).bind("hashchange",function(){initTemplates()});var regionNames=["Southeast","South","West","North","Northeast"],regionDictionary={Adams:2,Ashland:4,Barron:3,Bayfield:4,Brown:5,Buffalo:3,Burnett:3,Calumet:5,Chippewa:3,Clark:3,Columbia:2,Crawford:2,Dane:2,Dodge:2,Door:5,Douglas:3,Dunn:3,"Eau Claire":3,Florence:4,"Fond Du Lac":5,Forest:4,Grant:2,Green:2,"Green Lake":5,Iowa:2,Iron:4,Jackson:3,Jefferson:1,Juneau:2,Kenosha:1,Kewaunee:5,"La Crosse":3,Lafayette:2,Langlade:4,Lincoln:4,Manitowoc:5,Marathon:4,Marinette:5,Marquette:5,Menominee:5,Milwaukee:1,Monroe:3,Oconto:5,Oneida:4,Outagamie:5,Ozaukee:1,Pepin:3,Pierce:3,Polk:3,Portage:4,Price:4,Racine:1,Richland:2,Rock:2,Rusk:3,Sauk:2,Sawyer:4,Shawano:5,Sheboygan:5,"St. Croix":3,Taylor:4,Trempealeau:3,Vernon:2,Vilas:4,Walworth:1,Washburn:3,Washington:1,Waukesha:1,Waupaca:5,Waushara:5,Winnebago:5,Wood:4},dataCountry=[{"hc-key":"us-ma",name:"Massachusetts",value:0},{"hc-key":"us-wa",name:"Washington",value:1},{"hc-key":"us-ca",name:"California",value:2},{"hc-key":"us-or",name:"Oregon",value:3},{"hc-key":"us-wi",name:"Wisconsin",value:4},{"hc-key":"us-me",name:"Maine",value:5},{"hc-key":"us-mi",name:"Michigan",value:6},{"hc-key":"us-nv",name:"Nevada",value:7},{"hc-key":"us-nm",name:"New Mexico",value:8},{"hc-key":"us-co",name:"Colorado",value:9},{"hc-key":"us-wy",name:"Wyoming",value:10},{"hc-key":"us-ks",name:"Kansas",value:11},{"hc-key":"us-ne",name:"Nebraska",value:12},{"hc-key":"us-ok",name:"Oklahoma",value:13},{"hc-key":"us-mo",name:"Missouri",value:14},{"hc-key":"us-il",name:"Illinois",value:15},{"hc-key":"us-in",name:"Indiana",value:16},{"hc-key":"us-vt",name:"Vermont",value:17},{"hc-key":"us-az",name:"Arizona",value:18},{"hc-key":"us-ar",name:"Arkansas",value:19},{"hc-key":"us-tx",name:"Texas",value:20},{"hc-key":"us-ri",name:"Rhode Island",value:21},{"hc-key":"us-al",name:"Alabama",value:22},{"hc-key":"us-ga",name:"Georgia",value:23},{"hc-key":"us-ms",name:"Mississippi",value:24},{"hc-key":"us-sc",name:"South Carolina",value:25},{"hc-key":"us-nc",name:"North Carolina",value:26},{"hc-key":"us-va",name:"Virginia",value:27},{"hc-key":"us-ia",name:"Iowa",value:28},{"hc-key":"us-md",name:"Maryland",value:29},{"hc-key":"us-de",name:"Delaware",value:30},{"hc-key":"us-nj",name:"New Jersey",value:31},{"hc-key":"us-pa",name:"Pennsylvania",value:32},{"hc-key":"us-ny",name:"New York",value:33},{"hc-key":"us-id",name:"Idaho",value:34},{"hc-key":"us-sd",name:"South Dakota",value:35},{"hc-key":"us-ct",name:"Connecticut",value:36},{"hc-key":"us-nh",name:"New Hampshire",value:37},{"hc-key":"us-ky",name:"Kentucky",value:38},{"hc-key":"us-oh",name:"Ohio",value:39},{"hc-key":"us-tn",name:"Tennessee",value:40},{"hc-key":"us-wv",name:"West Virginia",value:41},{"hc-key":"us-dc",name:"District of Columbia",value:42},{"hc-key":"us-la",name:"Louisiana",value:43},{"hc-key":"us-fl",name:"Florida",value:44},{"hc-key":"us-mn",name:"Minnesota",value:45},{"hc-key":"us-mt",name:"Montana",value:46},{"hc-key":"us-nd",name:"North Dakota",value:47},{"hc-key":"us-ut",name:"Utah",value:48},{"hc-key":"us-hi",name:"Hawaii",value:49},{"hc-key":"us-ak",name:"Alaska",value:50}],chartOptions={chart:{type:"column",backgroundColor:null},title:{text:"Highcharts basic demo"},subtitle:{text:"Source: SHOW Data"},plotOptions:{series:{events:{legendItemClick:function(){if(!this.visible){var a=$('input[name="errorbar"]').bootstrapSwitch("state");return this.show(),!a&&this.linkedSeries&&this.linkedSeries[0].hide(),!1}}}},map:{borderColor:"#f0f0f0"},mapline:{lineWidth:3}},tooltip:{crosshairs:!0,shared:!0},series:[{dataLabels:{enabled:!0,formatter:function(){return this.point.x%3!==0?"":this.point.name},verticalAlign:"top"}}],legend:{itemStyle:{fontSize:"14px"}}},mapOptions={colorAxis:{stops:[[0,"#666666"],[.001,"#f7fcf5"],[.125,"#e5f5e0"],[.25,"#c7e9c0"],[.375,"#a1d99b"],[.5,"#74c476"],[.625,"#41ab5d"],[.75,"#238b45"],[.875,"#006d2c"],[1,"#00441b"]],min:0},tooltip:{formatter:function(){var a=this.point.value,b="";if(-1===this.point.value)a="No Data";else{var c=getCurrentCountyError(this.point.name);b="Error Range: ("+c[1]+" - "+c[2]+")"}return"<b>"+this.series.name+"</b><br>Point name: "+this.point.name+"<br>Region: "+this.point.region+"<br>Value: "+a+"<br>"+b}}},mapSeries={mapData:Highcharts.maps["countries/us/us-wi-all"],joinBy:"hc-key",states:{select:{color:"#b700ff"}},dataLabels:{enabled:!1,format:"{point.name}"},allowPointSelect:!0,cursor:"pointer",point:{events:{select:function(){var a=this.value;if(-1===a)$("#val").text("Selected Value: "+this.name+" - No Data");else{var b="#005645";$("#val").text("Selected Value: "+this.name+" - "+a);var c=$(".chart:eq(1)").highcharts();c.yAxis[0].removePlotLine("plot-line-1"),c.yAxis[0].removePlotLine("plot-band-1"),c.yAxis[0].addPlotLine({value:a,width:3,color:b,id:"plot-line-1",dashStyle:"longdash",label:{text:this.name+" ("+this.value+")",align:"right",style:{fontSize:"11pt"}}});var d=getCurrentCountyError(this.name);if(c.yAxis[0].addPlotBand({from:d[1],to:d[2],color:"rgba(50, 50, 50, 0.2)",id:"plot-band-1"}),this.region){var e=this.region;$.each(c.series,function(a,b){b.name===regionNames[e-1]||"Wisconsin"===b.name?b.show():b.hide()})}var f=c.yAxis[0].getExtremes().min,g=c.yAxis[0].getExtremes().dataMax,h=c.yAxis[0].tickInterval;g<d[2]?c.yAxis[0].setExtremes(f,d[2]+h):c.yAxis[0].setExtremes(null,null)}},unselect:function(){if(this.selected){var a=this.region,b=$(".chart:eq(1)").highcharts();b.yAxis[0].removePlotLine("plot-line-1"),b.yAxis[0].removePlotLine("plot-band-1"),$("#val").text("Selected Value: No region selected"),a&&$.each(b.series,function(b,c){c.name===regionNames[a-1]&&c.hide()}),b.yAxis[0].setExtremes(null,null)}}}}},gotData=!1,percent={},data={},currentMap={},currentLine={},dropDownIndicators={},county=Highcharts.maps["countries/us/us-wi-all"],region=Highcharts.maps["countries/us/us-wi-region"],country=Highcharts.maps["countries/us/us-all"],rounding=3,x={title:{text:"Year"},categories:["2008","2009","2010","2011","2012","2013","2014","2015"]},y={title:{text:"Percent %"},min:0};initTemplates();