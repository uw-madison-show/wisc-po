"use strict";var App=App||{dropDownTags:{},rounding:3,sample:!0,templates:{}};App.maps={country:Highcharts.maps["countries/us/us-all"],region:Highcharts.maps["countries/us/us-wi-region"],county:Highcharts.maps["countries/us/us-wi-all"],regionNames:["Southeast","South","West","North","Northeast"],regionColors:[[203,194,153],[151,215,0],[134,109,75],[0,141,122],[229,115,0]],regionDictionary:{Adams:2,Ashland:4,Barron:3,Bayfield:4,Brown:5,Buffalo:3,Burnett:3,Calumet:5,Chippewa:3,Clark:3,Columbia:2,Crawford:2,Dane:2,Dodge:2,Door:5,Douglas:3,Dunn:3,"Eau Claire":3,Florence:4,"Fond Du Lac":5,Forest:4,Grant:2,Green:2,"Green Lake":5,Iowa:2,Iron:4,Jackson:3,Jefferson:2,Juneau:2,Kenosha:1,Kewaunee:5,"La Crosse":3,Lafayette:2,Langlade:4,Lincoln:4,Manitowoc:5,Marathon:4,Marinette:5,Marquette:5,Menominee:5,Milwaukee:1,Monroe:3,Oconto:5,Oneida:4,Outagamie:5,Ozaukee:1,Pepin:3,Pierce:3,Polk:3,Portage:4,Price:4,Racine:1,Richland:2,Rock:2,Rusk:3,Sauk:2,Sawyer:4,Shawano:5,Sheboygan:5,"St. Croix":3,Taylor:4,Trempealeau:3,Vernon:2,Vilas:4,Walworth:1,Washburn:3,Washington:1,Waukesha:1,Waupaca:5,Waushara:5,Winnebago:5,Wood:4}},this.App=this.App||{},this.App.templates=this.App.templates||{},Handlebars.registerPartial("footer",Handlebars.template({1:function(a,b,c,d){return'    <span class="pull-right hidden-print">\r\n      <a class="simpleLink" href="#privacy">Privacy Policy</a>\r\n    </span>\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="clearfix"></div>\r\n\r\n<div class="footer">\r\n  <span class="pull-left">UW Madison SHOW and Andrew McOlash, 2014-2015</span>\r\n';return e=b.unless.call(a,null!=a?a.hide_privacy:a,{name:"unless",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+"</div>\r\n"},useData:!0})),Handlebars.registerPartial("halfChart",Handlebars.template({1:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='    <div class="clearfix"></div>\r\n\r\n    <nav role="navigation" class="navbar navbar-default chartSelect">\r\n\r\n      <!-- Brand and toggle get grouped for better mobile display -->\r\n      <div class="navbar-header">\r\n        <button type="button" data-target="#dataCollapse" data-toggle="collapse" class="navbar-toggle">\r\n          <span class="sr-only">Toggle navigation</span>\r\n          <span class="icon-bar"></span>\r\n          <span class="icon-bar"></span>\r\n          <span class="icon-bar"></span>\r\n        </button>\r\n        <span class="navbar-brand">Chart '+i((f=null!=(f=b.num||(null!=a?a.num:a))?f:h,typeof f===g?f.call(a,{name:"num",hash:{},data:d}):f))+'</span>\r\n      </div>\r\n\r\n      <!-- Collection of nav links and other content for toggling -->\r\n      <div id="dataCollapse" class="collapse navbar-collapse">\r\n';return e=b["if"].call(a,null!=a?a.type:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+='\r\n        <div class="clearfix"></div>\r\n\r\n\r\n\r\n',e=b["if"].call(a,null!=a?a.dropdown:a,{name:"if",hash:{},fn:this.program(5,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+"\r\n      </div>\r\n    </nav>\r\n\r\n"},2:function(a,b,c,d){var e,f='        <ul id="chartType" class="nav navbar-nav navbar-right">\r\n          <li ';return e=b["if"].call(a,null!=a?a.line:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="line" data-toggle="pill">\r\n            <a href="#">Line</a>\r\n          </li>\r\n          <li ',e=b["if"].call(a,null!=a?a.spline:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="spline" data-toggle="pill">\r\n            <a href="#">Spline</a>\r\n          </li>\r\n          <li ',e=b["if"].call(a,null!=a?a.column:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="column" data-toggle="pill">\r\n            <a href="#">Bar</a>\r\n          </li>\r\n          <li ',e=b["if"].call(a,null!=a?a.pie:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+=' data-type="pie" data-toggle="pill">\r\n            <a href="#">Pie</a>\r\n          </li>\r\n          <li ',e=b["if"].call(a,null!=a?a.map:a,{name:"if",hash:{},fn:this.program(3,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+' data-type="map" data-toggle="pill">\r\n            <a href="#">Map</a>\r\n          </li>\r\n\r\n          <!--\r\n          <li>\r\n            <a data-toggle="dropdown" href="#">Dropdown <b class="caret"></b></a>\r\n              <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">\r\n                <li><a href="#">Var 1</a></li>\r\n                <li><a href="#">Var 2</a></li>\r\n                <li><a href="#">Var 3</a></li>\r\n                <li><a href="#">Var 4</a></li>\r\n                <li><a href="#">Var 5</a></li>\r\n              </ul>\r\n          </li>\r\n          -->\r\n\r\n        </ul>\r\n\r\n'},3:function(a,b,c,d){return' class="active" '},5:function(a,b,c,d){return'\r\n        <form class="form-horizontal">\r\n\r\n          <div class="form-group nav-select">\r\n            <label class="col-sm-3 control-label">Location</label>\r\n            <div class="col-sm-9">\r\n              <select class="form-control dropDownA">\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class="form-group nav-select">\r\n            <label class="col-sm-3 control-label">Variable B</label>\r\n            <div class="col-sm-9">\r\n              <select class="form-control dropDownB">\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class="form-group nav-select">\r\n            <label class="col-sm-3 control-label">Variable C</label>\r\n            <div class="col-sm-9">\r\n              <select class="form-control dropDownC">\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n\r\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div id="chartContainer'+i((f=null!=(f=b.num||(null!=a?a.num:a))?f:h,typeof f===g?f.call(a,{name:"num",hash:{},data:d}):f))+'" class="col-sm-12 col-md-6 chartContainer smallChart">\r\n  <div id="chart'+i((f=null!=(f=b.num||(null!=a?a.num:a))?f:h,typeof f===g?f.call(a,{name:"num",hash:{},data:d}):f))+'" class="chart col-sm-12"></div>\r\n\r\n';return e=b["if"].call(a,null!=a?a.details:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+"\r\n</div>\r\n"},useData:!0})),Handlebars.registerPartial("header",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<header>\r\n  <nav role="navigation" class="navbar navbar-sm navbar-default navbar-fixed-top">\r\n    <div class="container">\r\n      <!-- Brand and toggle get grouped for better mobile display -->\r\n      <div class="navbar-header">\r\n        <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">\r\n          <span class="sr-only">Toggle navigation</span>\r\n          <span class="icon-bar"></span>\r\n          <span class="icon-bar"></span>\r\n          <span class="icon-bar"></span>\r\n        </button>\r\n        <span class="navbar-brand">SHOW Data Dissemination</span>\r\n      </div>\r\n\r\n      <!-- Collection of nav links and other content for toggling -->\r\n      <div id="navbarCollapse" class="collapse navbar-collapse">\r\n        <ul class="nav navbar-nav navbar-right">\r\n          <li class=""><a href="https://show.wisc.edu/">< Back to SHOW Website</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n\r\n\r\n  <div id="cookies" class="alert alert-dismissable alert-warning hidden-print" role="alert">\r\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n    <p>\r\n      We use cookies on your computer to help make this website better. More details can be found in our <a class="simpleLink" href="#privacy">privacy policy</a>\r\n    </p>\r\n  </div>\r\n\r\n</header>\r\n\r\n<div class="padding-bottom hidden-print">\r\n  <img class="img-responsive hidden-sm hidden-xs" src="images/logo.png" alt="">\r\n  <img class="img-responsive visible-sm visible-xs" src="images/logo-mobile.png" alt="">\r\n</div>\r\n\r\n<img class="img-responsive visible-print-block" src="images/logo.png" alt="">\r\n'},useData:!0})),Handlebars.registerPartial("linechart",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="chart lineChart col-xs-12"></div>'},useData:!0})),Handlebars.registerPartial("options",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g=this.escapeExpression,h="function";return'<div class="row options padding-bottom">\r\n  <form>\r\n\r\n    <div class="col-xs-12">\r\n      <h3>Options</h3>\r\n      <hr>\r\n    </div>\r\n\r\n    <div id="tagSelect" class="form-group nav-select col-sm-6 col-xs-12">\r\n      <label class="control-label">Category</label>\r\n      <select class="form-control dropDownTags">\r\n        '+g((b.dropDownTags||a&&a.dropDownTags||f).call(a,"All",{name:"dropDownTags",hash:{},data:d}))+'\r\n      </select>\r\n    </div>\r\n\r\n    <div id="taggedSelect" class="form-group nav-select col-sm-6 col-xs-12">\r\n      <label class="control-label">Health Indicator</label>\r\n      <select class="form-control dropDownTagsIndicators">\r\n        '+g((e=null!=(e=b.dropDownTagsIndicators||(null!=a?a.dropDownTagsIndicators:a))?e:f,typeof e===h?e.call(a,{name:"dropDownTagsIndicators",hash:{},data:d}):e))+'\r\n      </select>\r\n    </div>\r\n\r\n    <div class="form-group nav-select col-sm-4 col-xs-6">\r\n      <label id="errorbarToggle" class="control-label">Margin of Error</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="errorbar">\r\n    </div>\r\n\r\n    <div class="form-group nav-select col-sm-4 col-xs-6">\r\n      <label id="largeChartToggle" class="control-label">Large&nbsp;Charts</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="largecharts">\r\n    </div>\r\n\r\n  </form>\r\n</div>\r\n'},useData:!0})),Handlebars.registerPartial("table",Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="col-xs-12">\r\n\r\n  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">\r\n\r\n    <div class="panel panel-default">\r\n      <div data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true"\r\n      aria-controls="collapseOne"class="panel-heading" role="tab" id="headingOne">\r\n        <h4 class="panel-title pull-left">Data Table</h4>\r\n        <span id="minusIcon" class="glyphicon glyphicon-minus pull-right"></span>\r\n        <span id="plusIcon" class="glyphicon glyphicon-plus pull-right"></span>\r\n        <div class="clearfix"></div>\r\n      </div>\r\n      <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\r\n        <div class="panel-body">\r\n          <table id="myTable" class="table table-striped table-responsive">\r\n            <thead>\r\n              <tr>\r\n                <th>Index</th>\r\n                <th>County Name</th>\r\n                <th>Region</th>\r\n                <th>Data</th>\r\n                <th>HighCharts Id</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>'},useData:!0})),this.App.templates.about=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="content-container">\r\n\r\n';return e=this.invokePartial(c.header,"  ","header",a,{active_about:!0},b,c,d),null!=e&&(f+=e),f+="\r\n  <h1>About Us</h1>\r\n  <hr/>\r\n\r\n  <p>The Survey of the Health of Wisconsin (SHOW) is a statewide public health survey\r\n    designed to help improve health in Wisconsin and throughout the world. The\r\n    program has been in operation by the University of Wisconsin School of Medicine\r\n    and Public Health since 2008. Over 3,500 Wisconsin residents have joined.\r\n    SHOW is funded by the Wisconsin Partnership Program.\r\n  </p>\r\n\r\n  <p>\r\n    The Survey of the Health of Wisconsin is designed to:\r\n    <ul>\r\n      <li>To conduct annual health surveys of Wisconsin residents and communities</li>\r\n      <li>To conduct longitudinal follow-up of survey participants</li>\r\n      <li>Enable community-specific and community-driven ancillary studies</li>\r\n    </ul>\r\n  </p>\r\n\r\n  <p>\r\n    The Survey of the Health of Wisconsin (SHOW) is the first statewide research\r\n    survey of its kind to measure information on critical health conditions in\r\n    Wisconsin. The data that SHOW collects is shared with leaders, organizations\r\n    and researchers who use it to improve health in the state. Findings from SHOW\r\n    present a comprehensive picture of the health of Wisconsin residents, helping\r\n    to identify needs and target resources where they are most needed.\r\n  </p>\r\n\r\n  <p>\r\n    The Survey of the Health of Wisconsin is under the direction of Dr. F. Javier\r\n    Nieto and his team at the University of Wisconsin School of Medicine and\r\n    Public Health. The SHOW team includes experts in survey research from the UW\r\n    department of Population Health Sciences and benefits from the scientific\r\n    advice of a broad range of experts and consultants from multiple departments\r\n    at UW, the state, and around the nation.\r\n  </p>\r\n\r\n  <p>\r\n    SHOW is modeled after the Center for Disease Control's (CDC) national survey\r\n    (NHANES), which has provided key health information about the nation's health\r\n    for 35 years. With state focus, SHOW provides the more detailed information\r\n    needed to understand the unique health needs in Wisconsin.\r\n  </p>\r\n\r\n  <p>\r\n    Each year, trained Survey of the Health of Wisconsin staff knock on the doors\r\n    of randomly selected households throughout the state to invite people to\r\n    participate. All participation in SHOW is voluntary. SHOW will meet face-to-face\r\n    and privately with up to 1,000 Wisconsin residents to evaluate their health.\r\n    Because the participants in the survey are selected as a representative sample\r\n    of the state populations, the results of these surveys tell us about the health\r\n    of all Wisconsin residents.\r\n  </p>\r\n\r\n  <p>\r\n    Survey of the Health of WisconsinSHOW uses a variety of health assessments\r\n    methods to capture information not available before about the health of\r\n    Wisconsin residents. These assessments include: in-person interviews, paper\r\n    questionnaires, computer-assisted surveys, physical measurements and laboratory\r\n    tests.\r\n  </p>\r\n\r\n  <p>\r\n    SHOW measures a broad range of health information. These include many conditions\r\n    and health-related characteristics that, to date, have only been measured by\r\n    self-report. These conditions include high blood pressure and high cholesterol.\r\n    Additionally, the use of computer-assisted questionnaires provide previously\r\n    unavailable information about nutrition and exercise habits, access to health\r\n    care, health care use and other health related behaviors.\r\n  </p>\r\n\r\n  <p>\r\n    All the information collected by the Survey of the Health of Wisconsin its\r\n    confidential. SHOW publishes results in summarized fashion, but no data on\r\n    individual survey participants will be released or given away to any outside\r\n    party. With the study participant's permission, the information will be available\r\n    to qualified researchers well into the future and will be used to monitor the health\r\n    of Wisconsin communities and to design programs that improve the health of\r\n    residents.\r\n  </p>\r\n\r\n  <h1>About Our Data</h1>\r\n  <hr/>\r\n\r\n  <p>\r\n    In order to more fully understand our data we are currently working on explaining\r\n    what each of our indicators represents. <a href=\"#\">Here</a> is what we have\r\n    so far.\r\n  </p>\r\n\r\n  <p>\r\n    You should keep in mind that each county and region will have different sample sizes, and therefore the confidence intervals are different.\r\n  </p>\r\n\r\n",e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\r\n</div>\r\n"},usePartial:!0,useData:!0}),this.App.templates.chart_data=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='<div class="content-container">\r\n\r\n';return e=this.invokePartial(c.header,"  ","header",a,{active_charts:!0},b,c,d),null!=e&&(j+=e),j+='\r\n  <h1 class="hidden-print pull-left">Download Chart Data</h1>\r\n  <button class="hidden-print btn btn-default pull-right startTour">Start Tour</button>\r\n  <div class="clearfix"></div>\r\n\r\n  <hr class="hidden-print"/>\r\n\r\n  <p class="hidden-print">\r\n    The data we use for the charts is availible to the public. SHOW collects over\r\n    3,000 data points on every individual in our sample, so there are many more\r\n    variables available than we provide in the charts. If you would like a more \r\n    specific set of data, you can work with our group to tailor our data to your \r\n    needs by <a id="contact-us-link" href="#contact">contacting us</a>.\r\n  </p>\r\n\r\n  <div id="newTour" class="alert alert-dismissable alert-success hidden-print collapse" role="alert">\r\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n    <p>\r\n      It looks like you are new to the Wisc-Portal website. If you\r\n      have never used the data download section of this portal before, you should\r\n      take our quick tour of how to use this part of the tool!<br><br>\r\n      <button class="btn btn-success startTour">Start Tour</button>\r\n    </p>\r\n  </div>\r\n\r\n  <h3>Data Download</h3>\r\n\r\n  <div class="row hidden-print" id="topOptions">\r\n    <div class="form-group nav-select col-xs-4 col-sm-3" id="county">\r\n      <label id="toggleCounty" class="control-label">County Data</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="county">\r\n    </div>\r\n    <div class="form-group nav-select col-xs-4 col-sm-3">\r\n      <label id="toggleRegion" class="control-label">Region Data</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="region">\r\n    </div>\r\n    <div class="form-group nav-select col-xs-4 col-sm-3">\r\n      <label id="toggleState" class="control-label">State Data</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="state">\r\n    </div>\r\n    <div class="form-group nav-select col-xs-4 col-sm-3">\r\n      <label id="toggleConfidence" class="control-label">Confidence Data</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="errors">\r\n    </div>\r\n    <!-- <div class="form-group nav-select col-xs-4 col-sm-3">\r\n      <label class="control-label">Country&nbsp;Data</label>\r\n      <br>\r\n      <input class="bootstrapSwitch" type="checkbox" name="country">\r\n    </div> -->\r\n  </div>\r\n\r\n  <div class="row hidden-print" id="bottomOptions">\r\n    <div class="form-group nav-select col-xs-6" id="county1">\r\n      <label id="selectCounty" class="control-label">County</label>\r\n      <select disabled class="form-control dropDownCounty">\r\n        '+i((f=null!=(f=b.dropDownCounty||(null!=a?a.dropDownCounty:a))?f:h,typeof f===g?f.call(a,{name:"dropDownCounty",hash:{},data:d}):f))+'\r\n      </select>\r\n    </div>\r\n    <div class="form-group nav-select col-xs-6">\r\n      <label id="selectIndicators" class="control-label">Indicator</label>\r\n      <select class="form-control dropDownIndicators">\r\n        '+i((f=null!=(f=b.dropDownIndicators||(null!=a?a.dropDownIndicators:a))?f:h,typeof f===g?f.call(a,{name:"dropDownIndicators",hash:{},data:d}):f))+'\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <hr>\r\n\r\n  <div class="panel-group">\r\n\r\n  <div class="panel panel-default">\r\n    <div class="panel-heading">\r\n      <h3 id="tableTitle" class="panel-title">Data Table</h3>\r\n    </div>\r\n    <div class="panel-body">\r\n      <table id="myTable" class="table table-striped table-responsive">\r\n\r\n      </table>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n  <div class="row hidden-print">\r\n    <div class="col-xs-12">\r\n      <!-- <a id="download" onClick="downloadData()" class="btn btn-primary btn-lg" role="button">Download</a> -->\r\n      <a id="downloadCSV" download="data.csv" href="#" onclick="return ExcellentExport.csv(this, \'myTable\');"\r\n        class="btn btn-primary btn-lg" role="button">Download as CSV</a>\r\n      <a id="downloadExcel" download="data.xls" href="#" onclick="return ExcellentExport.excel(this, \'myTable\');"\r\n        class="btn btn-success btn-lg marginLeft" role="button">Download for Excel</a>\r\n    </div>\r\n  </div>\r\n\r\n',e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(j+=e),j+"\r\n</div>\r\n"},usePartial:!0,useData:!0}),this.App.templates.contact=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="content-container">\r\n\r\n';return e=this.invokePartial(c.header,"  ","header",a,{active_contact:!0},b,c,d),null!=e&&(f+=e),f+='\r\n  <h1>Contact Us</h1>\r\n\r\n  <hr/>\r\n\r\n  <address>\r\n    <strong>Survey of the Health of Wisconsin</strong><br>\r\n    Medical Sciences Center, Room 1083<br>\r\n    1300 University Avenue<br>\r\n    Madison, WI 53706<br>\r\n    Map and directions\r\n  </address>\r\n\r\n  <address>\r\n    <strong>Phone: (608) 890-3840</strong><br>\r\n    Toll-free: (888) 433-7469<br>\r\n    Fax: (608) 890-3844<br>\r\n  </address>\r\n\r\n  <address>\r\n    <strong>Email: </strong><a href="mailto:data@show.wisc.edu">data@show.wisc.edu</a>\r\n  </address>\r\n\r\n  <p class="socialIcon">\r\n    <a href="http://www.facebook.com/pages/UW-Survey-of-the-Health-of-Wisconsin/106097459501452">\r\n      <img src="images/img-fb-icon-100.png"/>\r\n      Like us on Facebook\r\n    </a>\r\n  </p>\r\n\r\n  <p class="socialIcon">\r\n    <a href="https://twitter.com/uwshow">\r\n      <img src="images/img-twitter-icon-100.png"/>\r\n      Follow us on Twitter\r\n    </a>\r\n  </p>\r\n\r\n',e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\r\n</div>\r\n"},usePartial:!0,useData:!0}),this.App.templates.error=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="content-container">\r\n\r\n';return e=this.invokePartial(c.header,"  ","header",a,void 0,b,c,d),null!=e&&(f+=e),f+='\r\n  <div class="col-xs-1">\r\n    <h1>\r\n      <span class="glyphicon glyphicon-remove-circle"></span>\r\n    </h1>\r\n  </div>\r\n\r\n  <div class="col-xs-11">\r\n    <h1>We\'re sorry, something went wrong.\r\n      <br>Please refresh the page.\r\n    </h1>\r\n  </div>\r\n\r\n',e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\r\n</div>\r\n"},usePartial:!0,useData:!0}),this.App.templates.index=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="content-container">\r\n\r\n';return e=this.invokePartial(c.header,"  ","header",a,{active_charts:!0},b,c,d),null!=e&&(f+=e),f+='\r\n  <h1 class="pull-left">Trends and Data</h1>\r\n  <button class="btn btn-default pull-right startTour hidden-print">Start Tour</button>\r\n  <div class="clearfix"></div>\r\n  <hr/>\r\n\r\n  <div id="newTour" class="alert alert-dismissable alert-success hidden-print collapse" role="alert">\r\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n      <span aria-hidden="true">&times;</span>\r\n    </button>\r\n    <p>\r\n      It looks like you are new to the Wisc-Portal website. If you\r\n      have never used the charts section of this portal before, you should take\r\n      our quick tour of how to use this part of the tool!<br><br>\r\n      <button class="btn btn-success startTour">Start Tour</button>\r\n    </p>\r\n  </div>\r\n\r\n',e=this.invokePartial(c.options,"  ","options",a,void 0,b,c,d),null!=e&&(f+=e),f+='\r\n  <!-- <h2 id="val" class="hidden-print">Selected Value: No region selected</h2> -->\r\n\r\n  <div id="sampleAlert" class="alert alert-danger hidden-print" role="alert">\r\n    <b>Warning: </b>This county has a small sample size, take caution when making\r\n    any assumptions based on this data. It is prone to have a large error.\r\n  </div>\r\n\r\n  <div class="row">\r\n',e=this.invokePartial(c.halfChart,"    ","halfChart",a,{map:!0,num:"0"},b,c,d),null!=e&&(f+=e),e=this.invokePartial(c.halfChart,"    ","halfChart",a,{column:!0,num:"1"},b,c,d),null!=e&&(f+=e),f+='  </div>\r\n\r\n  <div class="row">\r\n    <p id="description" class="col-sm-9 col-xs-12"></p>\r\n    <div class="col-sm-3 col-xs-12 hidden-print">\r\n      <button id="dataExport" class="btn btn-lg btn-primary pull-right">Export this data</button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="clearfix"></div>\r\n\r\n',e=this.invokePartial(c.footer,"  ","footer",a,void 0,b,c,d),null!=e&&(f+=e),f+"\r\n</div>\r\n"},usePartial:!0,useData:!0}),this.App.templates.privacy=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="content-container">\r\n\r\n';return e=this.invokePartial(c.header,"  ","header",a,void 0,b,c,d),null!=e&&(f+=e),f+='\r\n  <h1>Privacy Policy</h1>\r\n  <hr/>\r\n  <p>\r\n    We are committed to privacy and support current industry initiatives to preserve\r\n    individual privacy rights on the Internet. Protecting your privacy on-line\r\n    is an evolving area and this website will constantly evolve to meet these demands.\r\n\r\n    <h2>Cookies</h2>\r\n    Some of our web pages utilise "cookies". A "cookie" is a small text file\r\n    that may be used, for example, to collect information about web site activity.\r\n    Some cookies and other technologies may serve to recall preferences and\r\n    information previously indicated by a web user. Most browsers allow you to\r\n    control cookies, including whether or not to accept them and how to remove them.\r\n\r\n    Some cookies are necessary for the operation of our website, if you choose to\r\n    block them some aspects of the site may not work for you. Non necessary cookies\r\n    are only set when you have given your explicit consent to their use. Such\r\n    cookies include those set by our statistics package Google Analytics.\r\n  </p>\r\n\r\n',e=this.invokePartial(c.footer,"  ","footer",a,{hide_privacy:!0},b,c,d),null!=e&&(f+=e),f+"\r\n</div>\r\n"},usePartial:!0,useData:!0}),App.tourCharts=new Tour({storage:!1,steps:[{orphan:!0,title:"Welcome.",content:"This is a 2 minute walk through of our system. We will highlight features and important aspects of charts on the SHOW's data dissemination portal."},{element:".options",title:"Options Menu",content:"Use the options menu to control the options of the charts and maps.",placement:"top"},{element:"#tagSelect",title:"Categories",content:"We grouped the health indicators into broad categories like Diet and Mental Health.",placement:"top",onShow:function(){$(".dropDownTags option:first").prop("selected",!0),$(".dropDownTags").trigger("change")}},{element:"#taggedSelect",title:"Indicator Selection",content:"Pick the health indicator that you are interested in. This is just a sample of SHOW's data.",placement:"top",onShow:function(){$(".dropDownTagsIndicators option:first").prop("selected",!0),$(".dropDownTagsIndicators").trigger("change")}},{element:"#errorbarToggle",title:"Toggle Margin of Error",content:"Use this switch to add error bars to the chart based on the sample size of SHOW's survey.",placement:"top",onShow:function(){$('input[name="errorbar"]').bootstrapSwitch("state",!0)}},{element:"#largeChartToggle",title:"Large Chart Toggle",content:"The large chart toggle can increase the size of the map and chart on this page.",placement:"top",onShow:function(){$('input[name="largecharts"]').bootstrapSwitch("state",!0)},onHide:function(){$('input[name="largecharts"]').bootstrapSwitch("state",!1)}},{element:"#highcharts-0",title:"Data Map",content:"This map shows data on the individual counties within Wisconsin for the currently selected indicator.",placement:"top"},{element:"#highcharts-2",title:"Data Chart",content:"This chart shows data about the currently selected indicator for different area groupings in Wisconsin (county, region, state).",placement:"top"},{element:".highcharts-name-dane",title:"County Map",content:'Clicking on a county will "select" it and display the data for the region on the chart.',placement:"top",onShow:function(){$("#chart0").highcharts().series[0].points[12].select(!0)},onPrev:function(){$("#chart0").highcharts().series[0].points[12].select(!1)}},{element:"#chart1 .highcharts-legend .highcharts-legend-item:eq(3)",title:"Chart Legend",content:"You can also click on the regions in the legend to toggle them on and off.",placement:"top",onShow:function(){$("#chart1").highcharts().series[6].show()}},{element:"#description",title:"Inidicator Description",content:"Here are some of the details about how we calculated the health indicators.",placement:"top"},{element:"#chart0 .highcharts-button",title:"Export Functionality",content:"Pressing the export button will allow you to download or print the maps and charts.",placement:"top",onShow:function(){$("#chart0 .highcharts-button").click()},onHide:function(){$("body").click()}},{element:"#dataExport",title:"Export the Data",content:"You can also export the data in CSV or Excel formats so you can make your own graphs.",placement:"top"},{orphan:!0,title:"You are all set to go!",content:'SHOW collects over 3000 variables every year on Wisconsinites. If you have questions or want to work on research with us, please get in touch at <a href="mailto:data@show.wisc.edu">data@show.wisc.edu.</a>'}]}),App.tourData=new Tour({storage:!1,steps:[{orphan:!0,title:"Welcome to data download on Wisc Portal!",content:"In the following quick 1 minute walkthrough of our system, we will highlight features and important aspects of data download on the Wisc Portal."},{element:"#topOptions",title:"Top Section of Options",content:"Use the top section of the options menu to toggle individual aspects of your data export to your needs.",placement:"top"},{element:"#toggleCounty",title:"County Data Toggle",content:"Use this toggle to include data on a specific county (or all counties)",placement:"top",onShow:function(){$('input[name="county"]').bootstrapSwitch("state",!0)}},{element:"#toggleRegion",title:"Region Data Toggle",content:"Use this toggle to include data on all reigons",placement:"top",onShow:function(){$('input[name="region"]').bootstrapSwitch("state",!0)},onHide:function(){$('input[name="region"]').bootstrapSwitch("state",!1)}},{element:"#toggleState",title:"State Data Toggle",content:"Use this toggle to include data on the state",placement:"top",onShow:function(){$('input[name="state"]').bootstrapSwitch("state",!0)}},{element:"#toggleConfidence",title:"Confidence Intervals Toggle",content:"Use this toggle to include all confidence interval data",placement:"top",onShow:function(){$('input[name="errors"]').bootstrapSwitch("state",!0)}},{element:"#bottomOptions",title:"Use the bottom section of the options menu to select precise details for the data to export.",content:"",placement:"top"},{element:"#selectCounty",title:"County Selection",content:"This selection dropdown allows for choosing of a specific county, or all counties (if County Data Toggle enabled)",
placement:"top",onShow:function(){$(".dropDownCounty").val("Dane"),$(".dropDownCounty").trigger("change")}},{element:"#selectIndicators",title:"Indicator Selection",content:"This selection dropdown allows for the choosing of the specific indicator to provide data for",placement:"top",onShow:function(){$(".dropDownIndicators option:eq(2)").prop("selected",!0),$(".dropDownIndicators").trigger("change")}},{element:"#tableTitle",title:"Data Table",content:"The data table gives a quick visual representation of the data that will be provided when you are ready to download. This table is also printer friendly by default if you just want to print it out.",placement:"top"},{element:"#downloadCSV",title:"Download as CSV",content:"This button will produce a CSV file for your data selected (identical to the data table above)",placement:"top"},{element:"#downloadExcel",title:"Download for Excel",content:"This button will produce an excel (xls) file for your data selected (identical to the data table above)",placement:"top"},{orphan:!0,title:"You are all set to go!",content:"We hope that you enjoy your time using the data download on Wisc Portal"}]}),App.helpers={},App.helpers.helperSetup=function(){Handlebars.registerHelper("dropDownTags",function(a){var b,c=Object.keys(App.dropDownTags),d=$.inArray("All",c);return d>-1&&c.splice(d,1),c.sort(),d>-1&&c.unshift("All"),$.each(c,function(){var c="";this===a&&(c="selected"),b+="<option "+c+' value="'+this+'">'+this+"</option>"}),new Handlebars.SafeString(b)}),Handlebars.registerHelper("dropDownTagsIndicators",function(a,b){var c,d=$(".dropDownTags option:selected").text()||Object.keys(App.dropDownTags)[0],e=[];for(var f in App.dropDownTags[d])e.push([f,App.dropDownTags[d][f]]);return e.sort(function(a,b){return a[1]<b[1]?-1:a[1]>b[1]?1:0}),$.each(e,function(){var a="";this===b&&(a="selected"),c+="<option "+a+' value="'+this[0]+'">'+this[1]+"</option>"}),new Handlebars.SafeString(c)}),Handlebars.registerHelper("dropDownIndicators",function(){return new Handlebars.SafeString(Handlebars.helpers.dropDownTagsIndicators("All"))}),Handlebars.registerHelper("dropDownCounty",function(a){var b=[];b.push("All Counties");for(var c in App.maps.regionDictionary)b.push(c);var d="";return $.each(b,function(){var b="";this===a&&(b="selected"),d+="<option "+b+' value="'+this+'">'+this+"</option>"}),new Handlebars.SafeString(d)})},App.watchers={},window.onerror=function(){return $("#content").html(App.templates.error),$("#cookies").hide(),App.testing.counter=999999,!1},$(window).bind("hashchange",function(){App.tourData.end(),App.tourCharts.end(),App.initTemplates()}),App.watchers.downloadWatchers=function(){$('input[name="county"]').on("switchChange.bootstrapSwitch",function(a,b){$(".dropDownCounty").prop("disabled",!b)}),$("input").on("switchChange.bootstrapSwitch",function(){App.download.fillTable()}),$("select").change(function(){var a=$(".dropDownIndicators option:selected").val();App.data.currentMap=App.data.getAreaData("county",a),App.data.currentLine=App.data.getLineData(a),App.download.fillTable()}),$(".startTour").click(function(){$("#newTour").slideUp(function(){App.tourData.start(!0)})})},App.watchers.chartWatchers=function(){var a=function(a,b){var c=$(".chart:eq(0)").highcharts(),d=$(".chart:eq(1)").highcharts();App.data.currentMap=App.data.getAreaData("county",a),c.destroy(),App.charts.createMap($(".chart:eq(0)"),App.data.currentMap.observations,App.maps.county,b),App.data.currentLine=App.data.getLineData(a),d.destroy(),App.charts.createChart($(".chart:eq(1)"),"line",App.data.currentLine,[],App.charts.y,b),d=$(".chart:eq(1)").highcharts();var e="percent"===App.data.currentLine.data_type,f=e?"Percent %":"Value";d.yAxis[0].setTitle({text:f}),$("#description").text("*Description of Indicator: "+App.data.getDescription(a))};$(".dropDownTags").change(function(){var a=Handlebars.helpers.dropDownTagsIndicators().toString();$(".dropDownTagsIndicators").html(a),$(".dropDownTagsIndicators").change()}),$(".dropDownTagsIndicators").change(function(){var b=$("option:selected",this).val(),c=$("option:selected",this).text();$("#val").text("Selected Value: No region selected"),$("#sampleAlert").slideUp(),a(b,c)}),$('input[name="errorbar"]').on("switchChange.bootstrapSwitch",function(a,b){var c=$(".chart:eq(1)").highcharts();$.each(c.series,function(){"errorbar"===this.options.type&&this.linkedParent.visible&&(b?this.show():this.hide())})}),$('input[name="largecharts"]').on("switchChange.bootstrapSwitch",function(){var b=$(".chart:eq(0)"),c=$(".chart:eq(1)"),d=$(".dropDownTagsIndicators option:selected").val(),e=$(".dropDownTagsIndicators option:selected").text();console.log(d+" || "+e),b.parent().toggleClass("col-md-6"),b.parent().toggleClass("largeChart"),b.parent().toggleClass("smallChart"),c.parent().toggleClass("col-md-6"),c.parent().toggleClass("largeChart"),c.parent().toggleClass("smallChart"),a(d,e)}),$(".startTour").click(function(){$("#newTour").slideUp(function(){App.tourCharts.start(!0)})}),$("#dataExport").click(function(a){var b=$(".dropDownTagsIndicators option:selected").val(),c="",d=$('input[name="errorbar"]').bootstrapSwitch("state");App.data.currentMap=App.data.getAreaData("county",b),App.data.currentLine=App.data.getLineData(b),$.each($("#chart0").highcharts().series[0].points,function(){this.selected&&(c=this.name)}),App.download.exportedData.enabled=!0,App.download.exportedData.selectedIndicator=b,App.download.exportedData.selectedCounty=c,App.download.exportedData.enableError=d,window.location.hash="chart_data",a.preventDefault()}),$("#contact-us-link").click(function(a){window.location.hash="contact",a.preventDefault()})},App.data={currentMap:{},currentLine:{},gotData:!1,json:{}},App.data.getDescription=function(a){return App.data.json.state[a].description?App.data.json.state[a].description:"No Description"},App.data.getTags=function(a){return App.data.json.state[a].tags?App.data.json.state[a].tags:[]},App.data.transformData=function(a,b,c,d){var e,f;return a?(e=parseFloat(((a+b)*(c?100:1)).toFixed(App.rounding)),f=parseFloat(((a-b)*(c?100:1)).toFixed(App.rounding)),a=parseFloat((a*(c?100:1)).toFixed(App.rounding))):(e="county"===d?-1:null,f="county"===d?-1:null,a="county"===d?-1:0),[a,f,e]},App.data.getAreaData=function(a,b){if(App.data.json[a][b]){var c=$.extend(!0,{},App.data.json[a][b]),d="percent"===c.data_type;return c.error=[],$.each(c.observations,function(b,e){c.error.push({}),c.error[b].data=[],c.error[b].name=e.name+" - Confidence",c.error[b].parent=e.parent;var f=[];if(e.sample={},$.each(e.data,function(g,h){f=App.data.transformData(h[1],h[2],d,a),f[1]=f[1]<0?0:f[1],f[2]=f[2]<0?0:f[2],c.error[b].data[g]=[h[0],f[1],f[2]],h[3]<=0?h[1]=null:h[1]=f[0],e.sample[h[0]]=null===h[3]?0:h[3],h.splice(2,2)}),"county"===a){e.value=e.data[0][1],e.region=e.parent,e["hc-key"]=e.id;var g=d?80:10,h=App.misc.colors.white;h=App.sample?App.maps.regionColors[e.region-1]:App.misc.convertColor(App.maps.regionColors[e.region-1],e.value/g,App.misc.colors.white),e.color=App.misc.toRGB(h),delete e.parent,delete e.data}else c.error[b].linkedTo=e.id}),c}return{}},App.data.getCurrentCountyData=function(a){var b=$.grep(App.data.currentMap.observations,function(b){return b.name.toLowerCase()===a.toLowerCase()});return b[0]?b[0]:[2008,-1,-1]},App.data.getCurrentCountyError=function(a){var b=$.grep(App.data.currentMap.error,function(b){return b.name.toLowerCase()===(a+" - Confidence").toLowerCase()});return b[0]?b[0].data[0]:[2008,-1,-1]},App.data.getLineData=function(a){var b=App.data.getAreaData("region",a),c=App.data.getAreaData("state",a),d=[],e=2,f=.5;if(!$.isEmptyObject(b)){d.data_type=b.data_type,$.each(b.observations,function(){this.visible=!1,d.push(this)});var g=-5;$.each(b.error,function(a){this.type="errorbar",this.color="rgba("+App.maps.regionColors[a][0]+","+App.maps.regionColors[a][1]+","+App.maps.regionColors[a][2]+","+f+")",this.lineWidth=e,this.visible=!1,this.pointInterval=g+.1*a,d.push(this)})}if(!$.isEmptyObject(c)){d.push(c.observations[0]);var h=c.error[0];h.type="errorbar",h.color="#f15c80",h.color="rgba(241, 92, 128, "+f+")",h.lineWidth=e,h.visible=$('input[name="errorbar"]').bootstrapSwitch("state"),d.push(h)}return d.sort(function(a,b){var c=a.name.toLowerCase(),d=b.name.toLowerCase();return d>c?-1:c>d?1:0}),d},App.data.getData=function(a){$.getJSON("data/data.json",function(b){App.data.json=b,App.dropDownTags.All={},$.each(App.data.json,function(){$.each(this,function(a){var b=this.name;App.dropDownTags.All[a]=b,this.tags&&$.each(this.tags,function(){App.dropDownTags[this]=App.dropDownTags[this]||{},App.dropDownTags[this][a]=b})})}),App.helpers.helperSetup(),App.data.gotData=!0,a.resolve()}).fail(function(){$("#content").html(App.templates.error),a.fail()})},App.download={exportedData:{enabled:!1,selectedIndicator:"",selectedCounty:"",enableError:!1}},App.download.setupDownload=function(){$(".dropDownIndicators").val(App.download.exportedData.selectedIndicator),$(".dropDownCounty").val(App.download.exportedData.selectedCounty);var a=""!==App.download.exportedData.selectedCounty;$(".dropDownCounty").prop("disabled",!a),$('input[name="county"]').bootstrapSwitch("state",a),$('input[name="region"]').bootstrapSwitch("state",!0),$('input[name="state"]').bootstrapSwitch("state",!0),$('input[name="errors"]').bootstrapSwitch("state",App.download.exportedData.enableError)},App.download.addRow=function(a,b,c,d,e){-1===c&&(c="No Data",d="No Data",e="No Data");var f=$('input[name="errors"]').bootstrapSwitch("state"),g=f?"<td>"+d+"</td><td>"+e+"</td>":"";$("#myTable").append("<tr><td>"+a+"</td><td>"+b+"</td><td>"+c+"</td>"+g)},App.download.addArea=function(a,b){var c=App.data.getAreaData(a,b);"county"===a&&(App.data.currentMap=c),$.each(c.observations,function(b,d){var e=d.name,f="",g="",h="";"county"!==a?$.each(d.data,function(a,d){f=d[0],g=d[1],h=c.error[b].data[a],-1!==g&&App.download.addRow(e,f,g,h[1],h[2])}):(g=App.data.getCurrentCountyData(e).value,h=App.data.getCurrentCountyError(e),-1!==g&&App.download.addRow(e,f,g,h[1],h[2]))})},App.download.fillTable=function(){App.download.exportedData.enabled&&(App.download.exportedData.enabled=!1,App.download.setupDownload());var a=$(".dropDownIndicators option:selected").val(),b=$(".dropDownIndicators option:selected").text(),c=$(".dropDownCounty option:selected").text(),d=$('input[name="county"]').bootstrapSwitch("state"),e=$('input[name="region"]').bootstrapSwitch("state"),f=$('input[name="state"]').bootstrapSwitch("state"),g=$('input[name="errors"]').bootstrapSwitch("state"),h=g?"<th>Confidence (-)</th><th>Confidence(+)</th>":"";if($("#myTable").empty(),$("#myTable").append("<tr><th>Area</th><th>Year</th><th>"+b+"</th>"+h+"</tr>"),d)if("All Counties"===c)App.download.addArea("county",a);else{App.data.currentMap=App.data.getAreaData("county",a);var i=App.data.getCurrentCountyData(c).value,j=App.data.getCurrentCountyError(c);App.download.addRow(c,"",i,j[1],j[2])}e&&App.download.addArea("region",a),f&&App.download.addArea("state",a)},App.charts={x:{title:{text:"Year"},categories:["2008","2009","2010","2011","2012","2013","2014","2015"]},y:{title:{text:"Percent %"},min:-.5,minTickInterval:1,startOnTick:!1}},App.charts.createChart=function(a,b,c,d,e,f){var g=$.extend(!0,{},App.charts.chartOptions);switch(g.series=$.extend(!0,[],c),d&&0!==d.length&&(g.xAxis=d),e&&0!==e.length&&(g.yAxis=e),f&&(g.title.text=f),b){case"line":g.chart.type="line",a.highcharts(g);break;case"spline":g.chart.type="spline",a.highcharts(g);break;case"column":g.chart.type="column",a.highcharts(g);break;case"pie":g.chart.type="pie",a.highcharts(g);break;case"map":g.chart.type="map";var h=$.extend(!0,{},App.charts.mapOptions);g.colorAxis=h.colorAxis,g.tooltip=h.tooltip,g.legend=h.legend,a.highcharts("Map",g)}},App.charts.createMap=function(a,b,c,d){var e=new Array($.extend(!0,{},App.charts.mapSeries));e[0].data=b,e[0].mapData=c,e[0].name=d,e[0].enableMouseTracking=!0,e.push({type:"mapline",name:"Borders",color:"black",data:App.maps.region,enableMouseTracking:!1}),App.charts.createChart(a,"map",e,[],[],d)},App.charts.setupCharts=function(){var a=$(".dropDownTagsIndicators option:selected").val(),b=$(".dropDownTagsIndicators option:selected").text();App.data.currentMap=App.data.getAreaData("county",a),App.charts.createMap($(".chart:eq(0)"),App.data.currentMap.observations,App.maps.county,b),App.data.currentLine=App.data.getLineData(a),App.charts.createChart($(".chart:eq(1)"),"line",App.data.currentLine,[],App.charts.y,b);var c=$(".chart:eq(1)").highcharts(),d=$('input[name="errorbar"]').bootstrapSwitch("state");$.each(c.series,function(){"Wisconsin"===this.name||"United States"===this.name?this.show():"errorbar"===this.options.type&&d||this.hide()});var e="percent"===App.data.currentLine.data_type,f=e?"Percent %":"Value";$(".chart:eq(1)").highcharts().yAxis[0].setTitle({text:f}),$("#description").text("*Description of Indicator: "+App.data.getDescription(a)),App.watchers.chartWatchers()},App.charts.chartOptions={colors:["#008d7a","#e57300","#97d700","#cbc299","#866d4b","#ba0c2f"],chart:{type:"column",backgroundColor:null,style:{fontFamily:'"ITCAvantGardeW10-Book", "Tex Gyre Adventor", sans-serif'}},title:{text:"Show Data",style:{fontFamily:'"Optima", "angie-sans", Arial, sans-serif'}},subtitle:{text:"Source: UW SHOW Data"},exporting:{formAttributes:{target:"_blank"}},plotOptions:{series:{events:{legendItemClick:function(){if(!this.visible){var a=$('input[name="errorbar"]').bootstrapSwitch("state");return this.show(),!a&&this.linkedSeries&&this.linkedSeries[0].hide(),!1}}}},map:{borderColor:"#f0f0f0"},mapline:{lineWidth:3}},tooltip:{crosshairs:!0,shared:!0,formatter:function(){var a='<span style="font-size: 10px">'+this.points[0].key+"</span><br/>";return $.each(this.points,function(){var b="";App.data.currentLine[this.series.index].sample&&(b=", Sample Size: "+App.data.currentLine[this.series.index].sample[this.point.x]);var c;c=this.point.low&&this.point.high?this.point.low+" - "+this.point.high:this.point.y;var d="#000000"!==this.series.color?this.series.color:"#aaaaaa";a+='<span style="color:'+d+'">‚óè</span> '+this.series.name+": <b>"+c+"</b>"+b+"<br/>"}),a}},series:[{dataLabels:{enabled:!0,formatter:function(){return this.point.x%3!==0?"":this.point.name},verticalAlign:"top"}}],legend:{itemStyle:{fontSize:"14px"}}},App.charts.mapOptions={legend:{enabled:!1},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",formatter:function(){var a="",b="";return App.sample===!1&&this.point.value&&(a="Value: "+this.point.value),b=this.point.sample?"Sample Size: "+this.point.sample[2008]:"No Data","<b>"+this.series.name+"</b><br>County: "+this.point.name+"<br>Region: "+App.maps.regionNames[this.point.region-1]+"<br>"+a+"<br>"+b}}},App.charts.mapSeries={mapData:Highcharts.maps["countries/us/us-wi-all"],joinBy:"hc-key",states:{select:{color:"#b700ff"}},dataLabels:{enabled:!1,format:"{point.name}"},allowPointSelect:!0,cursor:"pointer",point:{events:{select:function(){var a=this.value,b="#005645";this.sample[2008]<40&&!App.sample?$("#sampleAlert").slideDown():$("#sampleAlert").slideUp();var c=$(".chart:eq(1)").highcharts();if(!App.sample){c.yAxis[0].removePlotLine("plot-line-1"),c.yAxis[0].removePlotLine("plot-band-1"),c.yAxis[0].addPlotLine({value:a,width:3,color:b,id:"plot-line-1",dashStyle:"longdash",label:{text:this.name+" ("+this.value+")",align:"right",style:{fontSize:"11pt"}}});var d=App.data.getCurrentCountyError(this.name);c.yAxis[0].addPlotBand({from:d[1],to:d[2],color:"rgba(50, 50, 50, 0.2)",id:"plot-band-1"});var e=c.yAxis[0].getExtremes().min,f=c.yAxis[0].getExtremes().dataMax,g=c.yAxis[0].tickInterval;f<d[2]?c.yAxis[0].setExtremes(e,d[2]+g):c.yAxis[0].setExtremes(null,null)}if(this.region){var h=this.region,i=$('input[name="errorbar"]').bootstrapSwitch("state"),j=App.maps.regionNames[h-1];$.each(c.series,function(a,b){b.name===j||"Wisconsin"===b.name?(b.show(),i||b.linkedSeries[0].hide()):b.visible&&"errorbar"!==b.type&&b.hide()})}},unselect:function(){if(this.selected){var a=this.region,b=$(".chart:eq(1)").highcharts();if(b.yAxis[0].removePlotLine("plot-line-1"),b.yAxis[0].removePlotLine("plot-band-1"),$("#sampleAlert").slideUp(),a){var c=App.maps.regionNames[a-1];$.each(b.series,function(a,b){(b.name===c||b.name===c+" - Error")&&b.hide()})}b.yAxis[0].setExtremes(null,null)}}}}},App.misc={colors:{black:[0,0,0],white:[255,255,255]}},App.misc.humanize=function(a){for(var b=a.split("_"),c=0;c<b.length;c++)b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1);return b.join(" ")},App.misc.convertColor=function(a,b,c){var d=[];return b>0&&(b+=.25),d[0]=(1-b)*c[0]+b*a[0],d[1]=(1-b)*c[1]+b*a[1],d[2]=(1-b)*c[2]+b*a[2],d},App.misc.toRGB=function(a){return"rgba("+Math.floor(a[0])+", "+Math.floor(a[1])+", "+Math.floor(a[2])+", 1.0)"},App.misc.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return""},App.misc.setCookie=function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+"; "+e},App.initTemplates=function(){var a=$.Deferred();App.data.gotData?a.resolve():App.data.getData(a),$.when(a).done(function(){if(console.log(window.location.href),window.location.href.match(/\#.*/)){var a=window.location.href.match(/\#.*/)[0].substring(1);$("#content").html(App.templates[a]),"error"===a?$("#content").html(App.templates.index):"chart_data"===a?(App.sample&&$("#county, #county1").hide(),App.download.fillTable(),App.watchers.downloadWatchers(),"true"!==App.misc.getCookie("visitedData")&&($("#newTour").show(),App.misc.setCookie("visitedData","true",90))):"privacy"===a?App.misc.setCookie("acceptCookie","true",90):$("#content").html("contact"===a?App.templates.contact:App.templates.index)}else $("#content").html(App.templates.index),App.charts.setupCharts(),$("#sampleAlert").hide(),"true"!==App.misc.getCookie("visitedCharts")&&($("#newTour").show(),App.misc.setCookie("visitedCharts","true",90));$(".bootstrapSwitch").bootstrapSwitch(),$("#cookies").on("close.bs.alert",function(){App.misc.setCookie("acceptCookie","true",90)}),"true"===App.misc.getCookie("acceptCookie")&&$("#cookies").hide()})},Highcharts.setOptions({lang:{printChart:"Print"}}),App.initTemplates();